DvtTimeUtils={supportsTouch:function(){return DvtAgent.isTouchDevice()}};DvtObj.createSubclass(DvtTimeUtils,DvtObj,"DvtTimeUtils");DvtTimeUtils.getDatePosition=function(a,b,c,d){c=(c-a)*d;a=b-a;return 0==c||0==a?0:c/a};DvtTimeUtils.getPositionDate=function(a,b,c,d){b=c*(b-a);return 0==b||0==d?a:b/d+a};var DvtTimeComponent=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtTimeComponent,DvtBaseComponent,"DvtTimeComponent");DvtTimeComponent.BACKGROUND_ID="bg";
DvtTimeComponent.prototype.Init=function(a,b,c){DvtTimeComponent.superclass.Init.call(this,a);this._callback=b;this._callbackObj=c;this._virtualize=!1};DvtTimeComponent.prototype.render=function(a,b,c){c&&this.SetOptions(c);this.Width=a;this.Height=b;this.Options&&(a=this.Parse(this.Options),this._applyParsedProperties(a))};DvtTimeComponent.prototype.SetOptions=function(a){this.Options=DvtJSONUtils.clone(a)};
DvtTimeComponent.prototype.addTick=function(a,b,c,d,e,g,h){b=new DvtLine(this.getCtx(),b,d,c,e,h);b.setStroke(g);b.setPixelHinting(!0);a.addChild(b);return b};DvtTimeComponent.prototype.addAxisLabel=function(a,b,c,d,e){b.setX(c);b.setY(d);b.isTruncated()&&b.setTextString(b.getUntruncatedTextString());DvtTextUtils.fitText(b,e,Infinity,a);b.alignCenter()};
DvtTimeComponent.prototype.addLabel=function(a,b,c,d,e,g,h,k,m,n,t){c=new DvtOutputText(this.getCtx(),c,b,0,h);null!=g&&c.setCSSStyle(g);a.addChild(c);var u=c.getDimensions();a.removeChild(c);e-=u.h;c.setY(e);t&&c.setX(b-u.w);k&&(k=Math.min(u.w+2*m,d),b=t?b-k+2*m:b,e=new DvtRect(this.getCtx(),b-m,e-m,k,u.h+2*m,"ob_"+h),e.setCSSStyle(g),e.setCornerRadius(3),a.addChild(e),n&&n.push(e));DvtTextUtils.fitText(c,d,Infinity,a);n&&n.push(c);return c};
DvtTimeComponent.prototype._applyParsedProperties=function(a){this._origStart=a.origStart;this._origEnd=a.origEnd;this._start=a.start;this._end=a.end;this._inlineStyle=a.inlineStyle;this._scale=a.scale;this._converter=a.converter;this.applyStyleValues()};DvtTimeComponent.prototype.applyStyleValues=function(){this._style.parseInlineStyle(this._inlineStyle)};DvtTimeComponent.prototype.isAnimationEnabled=function(){return!1};DvtTimeComponent.prototype.getAdjustedStartTime=function(){return this._start};
DvtTimeComponent.prototype.getAdjustedEndTime=function(){return this._end};DvtTimeComponent.prototype.getContentLength=function(){return this._contentLength};DvtTimeComponent.prototype.setContentLength=function(a){this._contentLength=this._canvasLength<a?a:this._canvasLength;this._virtualize||(this._fetchStartPos=0,this._fetchEndPos=this._contentLength)};DvtTimeComponent.prototype.renderScrollableCanvas=function(){this._canvas=new DvtContainer(this.getCtx(),"canvas");this.addChild(this._canvas)};
DvtTimeComponent.prototype.isRTL=function(){return DvtAgent.isRightToLeft(this.getCtx())};DvtTimeComponent.prototype.setVScrollPos=function(a){null!=this._canvas&&this._canvas.setTranslateY(0-a)};DvtTimeComponent.prototype.setHScrollPos=function(a){null!=this._canvas&&this._canvas.setTranslateX(0-a)};var DvtTimeComponentAxis=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtTimeComponentAxis,DvtContainer,"DvtTimeComponentAxis");DvtTimeComponentAxis.DEFAULT_INTERVAL_WIDTH=50;
DvtTimeComponentAxis.DEFAULT_INTERVAL_HEIGHT=21;DvtTimeComponentAxis.DEFAULT_INTERVAL_PADDING=2;DvtTimeComponentAxis.DEFAULT_BORDER_WIDTH=1;DvtTimeComponentAxis.DEFAULT_SEPARATOR_WIDTH=1;DvtTimeComponentAxis._VALID_SCALES="hours days weeks months quarters years".split(" ");
DvtTimeComponentAxis.prototype.Init=function(a,b,c,d,e,g){DvtTimeComponentAxis.superclass.Init.call(this,a);this._calendar=new DvtTimeComponentCalendar;this._formatter=new DvtTimeComponentAxisFormatter(DvtTimeComponentAxisFormatter.SHORT,g);this._contentSize=d?DvtTimeComponentAxis.DEFAULT_INTERVAL_WIDTH:DvtTimeComponentAxis.DEFAULT_INTERVAL_HEIGHT;this._borderWidth=DvtTimeComponentAxis.DEFAULT_BORDER_WIDTH;this._zoomOrder=e;this._dateToIsoConverter=a.getLocaleHelpers().dateToIsoConverter};
DvtTimeComponentAxis.prototype.setScale=function(a){this._scale=a};DvtTimeComponentAxis.prototype.increaseScale=function(){for(var a=0;a<this._zoomOrder.length-1;a++)if(this._zoomOrder[a]==this._scale)return this._scale=this._zoomOrder[a+1],!0;return!1};DvtTimeComponentAxis.prototype.decreaseScale=function(){for(var a=1;a<this._zoomOrder.length;a++)if(this._zoomOrder[a]==this._scale)return this._scale=this._zoomOrder[a-1],!0;return!1};
DvtTimeComponentAxis.prototype.setConverter=function(a){this._converter=a};DvtTimeComponentAxis.prototype.setDefaultConverter=function(a){this._defaultConverter=a};DvtTimeComponentAxis.prototype.getContentSize=function(){return this._contentSize};DvtTimeComponentAxis.prototype.setContentSize=function(a){a>this._contentSize&&(this._contentSize=a)};DvtTimeComponentAxis.prototype.getTimeAxisWidth=function(){null==this._timeAxisWidth&&(this._timeAxisWidth=30);return this._timeAxisWidth};
DvtTimeComponentAxis.prototype.setBorderWidth=function(a){this._borderWidth=a};DvtTimeComponentAxis.prototype.getSize=function(){return this._contentSize+2*this._borderWidth};DvtTimeComponentAxis.prototype.setType=function(a,b){this._formatter=new DvtTimeComponentAxisFormatter(a,b)};DvtTimeComponentAxis.prototype.adjustDate=function(a){return this._calendar.adjustDate(new Date(a),this._scale)};DvtTimeComponentAxis.prototype.getNextDate=function(a){return this._calendar.getNextDate(new Date(a),this._scale)};
DvtTimeComponentAxis.prototype.formatDate=function(a){if(this._converter){var b;b=this._converter[this._scale]?this._converter[this._scale]:this._converter["default"]?this._converter["default"]:this._converter;if(b.format)return b.format(this._dateToIsoConverter?this._dateToIsoConverter(a):a);if(b.getAsString)return b.getAsString(a)}if(this._defaultConverter&&this._defaultConverter[this._scale]){b=this._defaultConverter[this._scale];if(b.format)return b.format(this._dateToIsoConverter?this._dateToIsoConverter(a):
a);if(b.getAsString)return b.getAsString(a)}return this._formatter.format(a,this._scale)};DvtTimeComponentAxis.prototype.getZoomOrder=function(){return this._zoomOrder};DvtTimeComponentAxis.prototype.setZoomOrder=function(a){this._zoomOrder=a};var DvtTimeComponentAxisFormatter=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtTimeComponentAxisFormatter,DvtObj,"DvtTimeComponentAxisFormatter");DvtTimeComponentAxisFormatter.LONG=0;DvtTimeComponentAxisFormatter.SHORT=1;
DvtTimeComponentAxisFormatter.prototype.Init=function(a,b){this._type=a;this._dateFormatStrings=b;this._formats=[];this._formats[0]={};this._formats[0].weeks="m/dd";this._formats[0].months="mmmm";this._formats[0].days="dddd";this._formats[0].hours="HH:MM";this._formats[0].quarters="mmmm";this._formats[0].halfyears="yyyy";this._formats[0].years="yyyy";this._formats[0].twoyears="yyyy";this._formats[1]={};this._formats[1].weeks="m/dd";this._formats[1].months="mmm";this._formats[1].days="m/dd";this._formats[1].hours=
"HH:MM";this._formats[1].quarters="mmm";this._formats[1].halfyears="yy";this._formats[1].years="yy";this._formats[1].twoyears="yy"};DvtTimeComponentAxisFormatter.prototype.setPattern=function(a,b){this._formats[this._type][a]=b};DvtTimeComponentAxisFormatter.prototype.format=function(a,b){var c=this._formats[this._type][b];return null!=c?a.format(c,null,this._dateFormatStrings):a.toLocaleString()};
var dateFormat=function(a){var b=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,e=function(a,b){a=String(a);for(b=b||2;a.length<b;)a="0"+a;return a};return function(a,h,k,m){var n=dateFormat;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(a)||/\d/.test(a)||(h=a,a=void 0);a=a?new Date(a):new Date;if(isNaN(a))throw SyntaxError("invalid date");
h=String(n.masks[h]||h||n.masks["default"]);"UTC:"==h.slice(0,4)&&(h=h.slice(4),k=!0);var t=k?"getUTC":"get",n=a[t+"Date"](),u=a[t+"Day"](),v=a[t+"Month"](),w=a[t+"FullYear"](),x=a[t+"Hours"](),y=a[t+"Minutes"](),z=a[t+"Seconds"](),t=a[t+"Milliseconds"](),A=k?0:a.getTimezoneOffset(),B={d:n,dd:e(n),ddd:m.dayNames[u],dddd:m.dayNames[u+7],m:v+1,mm:e(v+1),mmm:m.monthNames[v],mmmm:m.monthNames[v+12],yy:String(w).slice(2),yyyy:w,h:x%12||12,hh:e(x%12||12),H:x,HH:e(x),M:y,MM:e(y),s:z,ss:e(z),l:e(t,3),L:e(99<
t?Math.round(t/10):t),t:12>x?"a":"p",tt:12>x?"am":"pm",T:12>x?"A":"P",TT:12>x?"AM":"PM",Z:k?"UTC":(String(a).match(c)||[""]).pop().replace(d,""),o:(0<A?"-":"+")+e(100*Math.floor(Math.abs(A)/60)+Math.abs(A)%60,4),S:["th","st","nd","rd"][3<n%10?0:(10!=n%100-n%10)*n%10]};return h.replace(b,function(a){return a in B?B[a]:a.slice(1,a.length-1)})}}();
dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};Date.prototype.format=function(a,b,c){return dateFormat(this,a,b,c)};var DvtTimeComponentCalendar=function(a){this.Init(a)};
DvtObj.createSubclass(DvtTimeComponentCalendar,DvtObj,"DvtTimeComponentCalendar");DvtTimeComponentCalendar.prototype.Init=function(){this._dayInMillis=864E5};DvtTimeComponentCalendar.prototype.getFirstDayOfWeek=function(){return 0};
DvtTimeComponentCalendar.prototype.adjustDate=function(a,b){var c=new Date(a.getTime());if("weeks"==b){c.setHours(0,0,0);var d=(a.getDay()-this.getFirstDayOfWeek()+7)%7;0<d&&c.setTime(c.getTime()-d*this._dayInMillis)}else"months"==b?c.setDate(1):"days"==b?c.setHours(0,0,0):"hours"==b?c.setMinutes(0,0,0):"quarters"==b?(c.setDate(1),d=2-(a.getMonth()+11)%3,0<d&&c.setMonth(c.getMonth()+d)):"halfyears"==b?(c.setDate(1),d=5-(a.getMonth()+11)%6,0<d&&c.setMonth(c.getMonth()+d)):"years"==b?(c.setMonth(0),
c.setDate(1)):"twoyears"==b&&(c.setMonth(0),c.setDate(1));return c};
DvtTimeComponentCalendar.prototype.getNextDate=function(a,b){var c=new Date(a.getTime());"days"==b?c.setDate(a.getDate()+1):"weeks"==b?c.setDate(a.getDate()+7):"months"==b?c.setMonth(a.getMonth()+1):"hours"==b?c.setHours(a.getHours()+1):"quarters"==b?c.setMonth(a.getMonth()+3):"halfyears"==b?c.setMonth(a.getMonth()+6):"years"==b?c.setFullYear(a.getFullYear()+1):"twoyears"==b?c.setFullYear(a.getFullYear()+2):c.setYear(a.getYear()+1);return c};var DvtTimeComponentParser=function(a){this.Init(a)};
DvtObj.createSubclass(DvtTimeComponentParser,DvtObj,"DvtTimeComponentParser");DvtTimeComponentParser.prototype.Init=function(a){this._view=a;this._calendar=new DvtTimeComponentCalendar};DvtTimeComponentParser.prototype.parse=function(a){this._startTime=new Date(a.start);this._endTime=new Date(a.end);var b=this.ParseRootAttributes();b.inlineStyle=a.style;return b};
DvtTimeComponentParser.prototype.ParseRootAttributes=function(){var a={};a.origStart=this._startTime;a.origEnd=this._endTime;a.orientation="horizontal";return a};DvtTimeComponentParser.prototype.getCalendar=function(){return this._calendar};DvtTimeComponentParser.prototype.setCalendar=function(a){this._calendar=a};DvtTimeComponentParser.prototype.getDate=function(a){return null==a?null:a.getTime?a.getTime():isNaN(a)?(new Date(a)).getTime()+0:a};
DvtTimeComponentParser.prototype.adjustDate=function(a,b){return this._calendar.adjustDate(a,b)};DvtTimeComponentParser.prototype.getNextDate=function(a,b){return this._calendar.getNextDate(a,b)};var DvtElementNode=function(){};DvtElementNode.prototype.getChildNodes=function(){return this.childNodes};DvtElementNode.prototype.getName=function(){return this.getAttribute("name")};DvtElementNode.prototype.getAttribute=function(a){return this[a]};var DvtTimelineKeyboardHandler=function(a){this.Init(a)};
DvtObj.createSubclass(DvtTimelineKeyboardHandler,DvtKeyboardHandler,"DvtTimelineKeyboardHandler");DvtTimelineKeyboardHandler.prototype.Init=function(a){DvtTimelineKeyboardHandler.superclass.Init.call(this,a)};DvtTimelineKeyboardHandler.prototype.isSelectionEvent=function(a){return this.isNavigationEvent(a)&&!a.ctrlKey};DvtTimelineKeyboardHandler.prototype.isMultiSelectEvent=function(a){return a.keyCode==DvtKeyboardEvent.SPACE&&a.ctrlKey};
DvtTimelineKeyboardHandler.prototype.processKeyDown=function(a){var b=a.keyCode;DvtKeyboardEvent.isEquals(a)||DvtKeyboardEvent.isPlus(a)?this._eventManager.zoomBy(1/DvtTimeline.ZOOM_BY_VALUE):DvtKeyboardEvent.isMinus(a)||DvtKeyboardEvent.isUnderscore(a)?this._eventManager.zoomBy(DvtTimeline.ZOOM_BY_VALUE):b==DvtKeyboardEvent.PAGE_UP?(a.shiftKey?this._eventManager.panBy(-.25,0):this._eventManager.panBy(0,-.25),DvtEventManager.consumeEvent(a)):b==DvtKeyboardEvent.PAGE_DOWN&&(a.shiftKey?this._eventManager.panBy(.25,
0):this._eventManager.panBy(0,.25),DvtEventManager.consumeEvent(a));return DvtTimelineKeyboardHandler.superclass.processKeyDown.call(this,a)};
DvtTimelineKeyboardHandler.getNextNavigable=function(a,b,c){var d=a.getSeries(),e=a.getSeriesIndex(),g=DvtAgent.isRightToLeft(d.getCtx()),d=d.isVertical(),h=1<c.length;if(!g&&DvtKeyboardEvent.RIGHT_ARROW==b.keyCode||g&&DvtKeyboardEvent.LEFT_ARROW==b.keyCode){if(!d)return DvtTimelineKeyboardHandler.getNextItem(a,c[e],!0);if(h&&1!=e)return DvtTimelineKeyboardHandler.getClosestItem(a,c[1])}else if(!g&&DvtKeyboardEvent.LEFT_ARROW==b.keyCode||g&&DvtKeyboardEvent.RIGHT_ARROW==b.keyCode){if(!d)return DvtTimelineKeyboardHandler.getNextItem(a,
c[e],!1);if(h&&0!=e)return DvtTimelineKeyboardHandler.getClosestItem(a,c[0])}else if(DvtKeyboardEvent.DOWN_ARROW==b.keyCode){if(d)return DvtTimelineKeyboardHandler.getNextItem(a,c[e],!0);if(h&&1!=e)return DvtTimelineKeyboardHandler.getClosestItem(a,c[1])}else if(DvtKeyboardEvent.UP_ARROW==b.keyCode){if(d)return DvtTimelineKeyboardHandler.getNextItem(a,c[e],!1);if(h&&0!=e)return DvtTimelineKeyboardHandler.getClosestItem(a,c[0])}return null};
DvtTimelineKeyboardHandler.getNextItem=function(a,b,c){a=b.indexOf(a)+(c?1:-1);return 0<=a&&a<b.length?b[a]:null};DvtTimelineKeyboardHandler.getClosestItem=function(a,b){if(0<b.length){for(var c=b[0],d=a.getLoc(),e=Math.abs(d-c.getLoc()),g=1;g<b.length;g++){var h=Math.abs(d-b[g].getLoc());h<e&&(e=h,c=b[g])}return c}return null};var DvtTimelineEventManager=function(a){this.Init(a.getCtx(),a.processEvent,a);this._timeline=a;this._isPinchZoom=this._isDragPanning=!1};
DvtObj.createSubclass(DvtTimelineEventManager,DvtEventManager,"DvtTimelineEventManager");DvtTimelineEventManager.GECKO_MOUSEWHEEL="wheel";
DvtTimelineEventManager.prototype.addListeners=function(a){DvtTimelineEventManager.superclass.addListeners.call(this,a);DvtSvgDocumentUtils.addDragListeners(this._timeline,this._onDragStart,this._onDragMove,this._onDragEnd,this);DvtAgent.isTouchDevice()||(DvtAgent.isPlatformGecko()?a.addEvtListener(DvtTimelineEventManager.GECKO_MOUSEWHEEL,this.OnMouseWheel,!1,this):a.addEvtListener(DvtMouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this),DvtAgent.isPlatformIE()&&(a=this.getCtx().getStage(),a.addEvtListener("mouseenter",
this.OnMouseEnter,!1,this),a.addEvtListener("mouseleave",this.OnMouseLeave,!1,this)))};
DvtTimelineEventManager.prototype.removeListeners=function(a){DvtTimelineEventManager.superclass.removeListeners.call(this,a);DvtAgent.isTouchDevice()||(DvtAgent.isPlatformGecko()?a.removeEvtListener(DvtTimelineEventManager.GECKO_MOUSEWHEEL,this.OnMouseWheel,!1,this):a.removeEvtListener(DvtMouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this),DvtAgent.isPlatformIE()&&(a=this.getCtx().getStage(),a.removeEvtListener("mouseenter",this.OnMouseEnter,!1,this),a.removeEvtListener("mouseleave",this.OnMouseLeave,
!1,this)))};DvtTimelineEventManager.prototype.OnKeyDown=function(a){DvtTimelineEventManager.superclass.OnKeyDown.call(this,a);this._timeline.HandleKeyDown(a)};DvtTimelineEventManager.prototype.OnClick=function(a){this._isDragPanning||(DvtTimelineEventManager.superclass.OnClick.call(this,a),this._timeline.HandleMouseClick(a))};
DvtTimelineEventManager.prototype.PreOnMouseOver=function(a){this._mouseOutTimer&&this._mouseOutTimer.isRunning()&&this._mouseOutTimer.stop();DvtTimelineEventManager.superclass.PreOnMouseOver.call(this,a);DvtAgent.isPlatformIE()||this.isMouseOver||(this.isMouseOver=!0,this._timeline.showThenHideHotspots())};DvtTimelineEventManager.prototype.OnMouseEnter=function(a){this._mouseOutTimer&&this._mouseOutTimer.isRunning()&&this._mouseOutTimer.stop();this.isMouseOver||(this.isMouseOver=!0,this._timeline.showThenHideHotspots())};
DvtTimelineEventManager.prototype.OnMouseLeave=function(a){this._mouseOutTimer||(this._mouseOutTimer=new DvtTimer(this.getCtx(),10,this._onMouseOutTimerEnd,this,1));this._mouseOutTimer.reset();this._mouseOutTimer.start()};
DvtTimelineEventManager.prototype.PreOnMouseOut=function(a){DvtTimelineEventManager.superclass.PreOnMouseOut.call(this,a);DvtAgent.isPlatformIE()||(this._mouseOutTimer||(this._mouseOutTimer=new DvtTimer(this.getCtx(),10,this._onMouseOutTimerEnd,this,1)),this._mouseOutTimer.reset(),this._mouseOutTimer.start())};DvtTimelineEventManager.prototype._onMouseOutTimerEnd=function(){this.isMouseOver=!1};
DvtTimelineEventManager.prototype.PreOnMouseDown=function(a){this._isDragPanning=!1;DvtTimelineEventManager.superclass.PreOnMouseDown.call(this,a);this._timeline.HandleMouseDown(a)};DvtTimelineEventManager.prototype.OnMouseWheel=function(a){this._timeline.HandleMouseWheel(a)};DvtTimelineEventManager.prototype.OnTouchStartBubble=function(a){DvtTimelineEventManager.superclass.OnTouchStartBubble.call(this,a);this._timeline.HandleTouchStart(a);this._timeline.getCtx().getStage().getSVGRoot().parentNode.focus()};
DvtTimelineEventManager.prototype.OnTouchEndBubble=function(a){DvtTimelineEventManager.superclass.OnTouchEndBubble.call(this,a);this._timeline.HandleTouchEnd(a)};DvtTimelineEventManager.prototype._onDragStart=function(a){return DvtAgent.isTouchDevice()?this._onTouchDragStart(a):this._onMouseDragStart(a)};DvtTimelineEventManager.prototype._onDragMove=function(a){return DvtAgent.isTouchDevice()?this._onTouchDragMove(a):this._onMouseDragMove(a)};
DvtTimelineEventManager.prototype._onDragEnd=function(a){return DvtAgent.isTouchDevice()?this._onTouchDragEnd(a):this._onMouseDragEnd(a)};DvtTimelineEventManager.prototype._getRelativePosition=function(a,b){this._stageAbsolutePosition||(this._stageAbsolutePosition=this._context.getStageAbsolutePosition());return new DvtPoint(a-this._stageAbsolutePosition.x,b-this._stageAbsolutePosition.y)};
DvtTimelineEventManager.prototype._onMouseDragStart=function(a){return a.button!=DvtMouseEvent.RIGHT_CLICK_BUTTON?(a=this._getRelativePosition(a.pageX,a.pageY),this._timeline.beginDragPan(a.x,a.y),!0):!1};DvtTimelineEventManager.prototype._onMouseDragMove=function(a){a=this._getRelativePosition(a.pageX,a.pageY);this._timeline.contDragPan(a.x,a.y)&&(this._isDragPanning=!0)};DvtTimelineEventManager.prototype._onMouseDragEnd=function(a){this._timeline.endDragPan();this._stageAbsolutePosition=null};
DvtTimelineEventManager.prototype._onTouchDragStart=function(a){var b=a.touches;if(1==b.length)return a=this._getRelativePosition(b[0].pageX,b[0].pageY),this._timeline.beginDragPan(a.x,a.y),!0;if(2==b.length){this._timeline.endDragPan();this._isPinchZoom=!0;var c=this._getRelativePosition(b[0].pageX,b[0].pageY),b=this._getRelativePosition(b[1].pageX,b[1].pageY);this._timeline.beginPinchZoom(c.x,c.y,b.x,b.y);DvtEventManager.consumeEvent(a);return!0}return!1};
DvtTimelineEventManager.prototype._onTouchDragMove=function(a){var b=a.touches;if(1==b.length){var c=this._getRelativePosition(b[0].pageX,b[0].pageY);this._timeline.contDragPan(c.x,c.y);a.preventDefault()}else 2==b.length&&(c=this._getRelativePosition(b[0].pageX,b[0].pageY),b=this._getRelativePosition(b[1].pageX,b[1].pageY),this._timeline.contPinchZoom(c.x,c.y,b.x,b.y),a.preventDefault())};
DvtTimelineEventManager.prototype._onTouchDragEnd=function(a){this._isPinchZoom?(this._isPinchZoom=!1,this._timeline.endPinchZoom()):this._timeline.endDragPan();a.preventDefault();this._stageAbsolutePosition=null};DvtTimelineEventManager.prototype.zoomBy=function(a){this._timeline.zoomBy(a)};
DvtTimelineEventManager.prototype.panBy=function(a,b){var c=a*this._timeline._canvasLength*(DvtAgent.isRightToLeft(this._context)?-1:1),d=b*this._timeline._seriesSize;0!=c&&(this._timeline._triggerViewportChange=!0);var e=this.getFocus();e&&(this._timeline._dragPanSeries=e._series);this._timeline.panBy(c,d);this._timeline.endPan()};DvtTimelineEventManager.prototype.HandleZoomInClick=function(a){this._timeline.handleZoom(!0)};DvtTimelineEventManager.prototype.HandleZoomOutClick=function(a){this._timeline.handleZoom(!1)};
var DvtTimeline=function(){};DvtObj.createSubclass(DvtTimeline,DvtTimeComponent,"DvtTimeline");DvtTimeline.DEFAULT_TIMELINE_STYLE="border:1px #d9dfe3;background-color:#f9f9f9;";DvtTimeline.DEFAULT_AXIS_STYLE="background-color:#f9f9f9;border:1px #d9dfe3;";DvtTimeline.DEFAULT_AXIS_LABEL_STYLE="color:#333333;font-size:12px;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;";DvtTimeline.DEFAULT_SERIES_AXIS_LABEL_STYLE="background-color:rgba(249,249,249,0.8);color:#4f4f4f;white-space:nowrap;font-size:14px;font-weight:bold;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;";
DvtTimeline.DEFAULT_SERIES_AXIS_LABEL_PADDING=1;DvtTimeline.DEFAULT_AXIS_SEPARATOR_STYLE="color:#bcc7d2;";DvtTimeline.DEFAULT_OVERVIEW_BACKGROUND_COLOR="#e6ecf3";DvtTimeline.DEFAULT_OVERVIEW_LABEL_STYLE="color:#4f4f4f;font-size:12px;font-weight:bold;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;";DvtTimeline.DEFAULT_OVERVIEW_WINDOW_BORDER_COLOR="#4f4f4f";DvtTimeline.DEFAULT_OVERVIEW_WINDOW_BACKGROUND_COLOR="#ffffff";DvtTimeline.DEFAULT_OVERVIEW_HEIGHT=100;
DvtTimeline.DEFAULT_OVERVIEW_WIDTH=60;DvtTimeline.DEFAULT_HOTSPOT_BACKGROUND_COLOR="#000000";DvtTimeline.DEFAULT_HOTSPOT_BORDER_RADIUS=2;DvtTimeline.DEFAULT_HOTSPOT_OPACITY=.6;DvtTimeline.DEFAULT_HOTSPOT_WIDTH=28;DvtTimeline.DEFAULT_HOTSPOT_HEIGHT=28;DvtTimeline.DEFAULT_HOTSPOT_PADDING=3;DvtTimeline.DEFAULT_HOTSPOT_ARROW_WIDTH=14;DvtTimeline.DEFAULT_HOTSPOT_ARROW_HEIGHT=14;DvtTimeline.DEFAULT_HOTSPOT_ANIMATION_DURATION=.3;DvtTimeline.ZOOM_BY_VALUE=1.5;DvtTimeline.ORIENTATION_VERTICAL="vertical";
DvtTimeline.newInstance=function(a,b,c){var d=new DvtTimeline;d.Init(a,b,c);return d};DvtTimeline.prototype.Init=function(a,b,c){DvtTimeline.superclass.Init.call(this,a,b,c);this.setId("timeline1000"+Math.floor(1E9*Math.random()));this.EventManager=new DvtTimelineEventManager(this,a,b,c);this.EventManager.addListeners(this);DvtAgent.isTouchDevice()?this._keyboardHandler=null:(this._keyboardHandler=new DvtTimelineKeyboardHandler(this.EventManager),this.EventManager.setKeyboardHandler(this._keyboardHandler))};
DvtTimeline.prototype.Parse=function(a){this._parser=new DvtTimelineParser(this);return this._parser.parse(a)};
DvtTimeline.prototype._applyParsedProperties=function(a){var b=a.orientation;this._isVertical=b&&b==DvtTimeline.ORIENTATION_VERTICAL?!0:!1;this._hasOverview=a.hasOverview;this._viewStartTime=a.viewStart;this._viewEndTime=a.viewEnd;this._selectionMode=a.selectionMode;this.SelectionHandler="single"==this._selectionMode?new DvtSelectionHandler(DvtSelectionHandler.TYPE_SINGLE):"multiple"==this._selectionMode?new DvtSelectionHandler(DvtSelectionHandler.TYPE_MULTIPLE):null;this.EventManager.setSelectionHandler(this.SelectionHandler);
this._axisInlineStyle=a.axisStyle;this._shortDesc=a.shortDesc;this._id=a.id;this._referenceObjects=a.referenceObjects;this._zoomOrder=a.zoomOrder;this._seriesScale=a.seriesScale;this._dateFormatStrings={dayNames:[DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_SHORT_SUNDAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_SHORT_MONDAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_SHORT_TUESDAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_SHORT_WEDNESDAY",
null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_SHORT_THURSDAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_SHORT_FRIDAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_SHORT_SATURDAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_SUNDAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_MONDAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_TUESDAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,
"DAY_WEDNESDAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_THURSDAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_FRIDAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DAY_SATURDAY",null)],monthNames:[DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_JANUARY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_FEBRUARY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_MARCH",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,
"MONTH_SHORT_APRIL",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_MAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_JUNE",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_JULY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_AUGUST",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_SEPTEMBER",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_OCTOBER",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,
"MONTH_SHORT_NOVEMBER",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_DECEMBER",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_JANUARY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_FEBRUARY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_MARCH",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_APRIL",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_MAY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,
"MONTH_JUNE",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_JULY",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_AUGUST",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SEPTEMBER",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_OCTOBER",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_NOVEMBER",null),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_DECEMBER",null)]};this._seriesScale&&(this._seriesConverter=
a.seriesConverter,this._seriesTimeAxis=new DvtTimeComponentAxis(this.getCtx(),null,null,this._isVertical),this._seriesTimeAxis.setScale(this._seriesScale),this._seriesTimeAxis.setConverter(this._seriesConverter),this._isVertical?(this._seriesTimeAxis.setType(DvtTimeComponentAxisFormatter.SHORT,this._dateFormatStrings),this._seriesTimeAxis.setDefaultConverter(this._resources.converterVert)):(this._seriesTimeAxis.setType(DvtTimeComponentAxisFormatter.LONG,this._dateFormatStrings),this._seriesTimeAxis.setDefaultConverter(this._resources.converter)));
this._defaultInversions=[!1,!0];DvtTimeline.superclass._applyParsedProperties.call(this,a)};DvtTimeline.prototype.getTimeAxisSize=function(){return this._timeAxis.getSize()};DvtTimeline.prototype.select=function(a){this.Options.selection=DvtJSONUtils.clone(a);this.SelectionHandler&&this.applyInitialSelections()};
DvtTimeline.prototype.render=function(a,b,c){a&&this.SetOptions(a);this._overviewCanvas=this._overview=this._innerCanvas=this._canvas=this._axis=this._series=null;this.Options&&(this._resources=this.Options._resources,null==this._resources&&(this._resources=[]));this.Width=b;this.Height=c;a?(a=this.Parse(this.Options),this._applyParsedProperties(a)):this.applyStyleValues();this._fetchStartPos=0;this._fetchEndPos=this._isVertical?c:b;this.removeChildren();this.Options.styleDefaults&&(this._axisStyleDefaults=
this.Options.styleDefaults.minorAxis,this._majorAxisStyleDefaults=this.Options.styleDefaults.majorAxis,this._itemStyleDefaults=this.Options.styleDefaults.item,this._seriesStyleDefaults=this.Options.styleDefaults.series,this._referenceObjectStyleDefaults=this.Options.styleDefaults.referenceObject,this._overviewStyleDefaults=this.Options.styleDefaults.overview);this.prepareViewportLength();this._scale&&(this.prepareTimeAxisZoomLevelIntervals(this._start,this._end),this._populateSeries(),this.applyAxisStyleValues());
this.createBackground();this.renderScrollableCanvas();this.setupInnerCanvas();if(this.hasValidOptions()){this.renderSeries();this.renderSeriesLabels();this.renderAxis();this._hasOverview&&this.renderOverview();if(this._keyboardHandler)for(b=0;b<this._series.length;b++)if(c=this._series[b],c._items&&0<c._items.length){this.EventManager.setFocusObj(c._items[0]);break}this.renderScrollHotspots();DvtAgent.isEnvironmentBrowser()&&this.showThenHideHotspots();this.createZoomControls();this.SelectionHandler&&
this.applyInitialSelections();DvtTimeUtils.supportsTouch()&&this._setAriaProperty("flowto",this._series[0].getId())}else this.renderEmptyText();this.UpdateAriaAttributes();this.getCtx().setKeyboardFocusArray([this])};
DvtTimeline.prototype.renderEmptyText=function(){var a=this.Options.series?DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"INVALID_DATA",null):DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"NO_DATA",null);DvtTextUtils.renderEmptyText(this._canvas,a,new DvtRectangle(0,0,this._backgroundWidth,this._backgroundHeight),this.EventManager,new DvtCSSStyle(DvtTimelineSeries.DEFAULT_EMPTY_TEXT_STYLE))};
DvtTimeline.prototype.hasValidOptions=function(){var a=this._scale&&-1!=DvtTimeComponentAxis._VALID_SCALES.indexOf(this._scale),b=this._start&&this._end&&this._end>this._start,c=this._series&&0<this._series.length,d=this._seriesScale?-1!=DvtTimeComponentAxis._VALID_SCALES.indexOf(this._seriesScale):!0,e=this._viewStartTime&&this._viewEndTime?this._viewEndTime>this._viewStartTime:!0,g=this._viewStartTime?this._viewStartTime>=this._start&&this._viewStartTime<this._end:!0,h=this._viewEndTime?this._viewEndTime>
this._start&&this._viewEndTime<=this._end:!0;return a&&b&&c&&d&&e&&g&&h};DvtTimeline.prototype.GetComponentDescription=function(){return this._shortDesc?this._shortDesc:DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"TIMELINE")};
DvtTimeline.prototype.renderScrollHotspots=function(){if(this._series){var a=this._series.length;this._scrollHotspots=[];for(var b=0;b<a;b++){var c=new DvtContainer(this.getCtx(),"hotspots_s"+b);this.addChild(c);if(this._isVertical)var d=this.isRTL()?Math.abs(b-1):b,e=u=this._startX+d*(this._seriesSize+this.getTimeAxisSize())+(this._seriesSize-DvtTimeline.DEFAULT_HOTSPOT_WIDTH)/2,g=this._startY+DvtTimeline.DEFAULT_HOTSPOT_PADDING,h=this._startY+this._canvasLength-DvtTimeline.DEFAULT_HOTSPOT_HEIGHT-
DvtTimeline.DEFAULT_HOTSPOT_PADDING,d=v=u+DvtTimeline.DEFAULT_HOTSPOT_ARROW_WIDTH/2,k=g+DvtTimeline.DEFAULT_HOTSPOT_ARROW_HEIGHT/2,m=h+DvtTimeline.DEFAULT_HOTSPOT_ARROW_HEIGHT/2,n=this._resources.scrollUp,t=this._resources.scrollDown;else var u=this._startX+DvtTimeline.DEFAULT_HOTSPOT_PADDING,e=this._startX+this._canvasLength-DvtTimeline.DEFAULT_HOTSPOT_WIDTH-DvtTimeline.DEFAULT_HOTSPOT_PADDING,g=this._startY+b*(this._seriesSize+this.getTimeAxisSize())+(this._seriesSize-DvtTimeline.DEFAULT_HOTSPOT_HEIGHT)/
2,h=g,v=u+DvtTimeline.DEFAULT_HOTSPOT_ARROW_WIDTH/2,d=e+DvtTimeline.DEFAULT_HOTSPOT_ARROW_WIDTH/2,k=g+DvtTimeline.DEFAULT_HOTSPOT_ARROW_HEIGHT/2,m=k,n=this._resources.scrollLeft,t=this._resources.scrollRight;u=new DvtRect(this.getCtx(),u,g,DvtTimeline.DEFAULT_HOTSPOT_WIDTH,DvtTimeline.DEFAULT_HOTSPOT_HEIGHT,"lhs");u.setSolidFill(DvtTimeline.DEFAULT_HOTSPOT_BACKGROUND_COLOR,1);u.setCornerRadius(DvtTimeline.DEFAULT_HOTSPOT_BORDER_RADIUS);u.hotspot="left";u.setAlpha(0);u.setMouseEnabled(!1);v=new DvtImage(this.getCtx(),
n,v,k,DvtTimeline.DEFAULT_HOTSPOT_ARROW_WIDTH,DvtTimeline.DEFAULT_HOTSPOT_ARROW_HEIGHT,"lhs_arr");v.hotspot="left";u.addChild(v);e=new DvtRect(this.getCtx(),e,h,DvtTimeline.DEFAULT_HOTSPOT_WIDTH,DvtTimeline.DEFAULT_HOTSPOT_HEIGHT,"rhs");e.setSolidFill(DvtTimeline.DEFAULT_HOTSPOT_BACKGROUND_COLOR,1);e.setCornerRadius(DvtTimeline.DEFAULT_HOTSPOT_BORDER_RADIUS);e.hotspot="right";e.setAlpha(0);e.setMouseEnabled(!1);d=new DvtImage(this.getCtx(),t,d,m,DvtTimeline.DEFAULT_HOTSPOT_ARROW_WIDTH,DvtTimeline.DEFAULT_HOTSPOT_ARROW_HEIGHT,
"rhs_arr");d.hotspot="right";e.addChild(d);c.addChild(u);this._scrollHotspots.push(u);c.addChild(e);this._scrollHotspots.push(e);this._isVertical?(d=this.isRTL()?Math.abs(b-1):b,u=this._startX+d*(this._seriesSize+this.getTimeAxisSize())+DvtTimeline.DEFAULT_HOTSPOT_PADDING,e=this._startX+(d+1)*this._seriesSize+d*this.getTimeAxisSize()-DvtTimeline.DEFAULT_HOTSPOT_WIDTH-DvtTimeline.DEFAULT_HOTSPOT_PADDING,h=g=this._startY+(this._canvasLength-DvtTimeline.DEFAULT_HOTSPOT_WIDTH)/2,v=u+DvtTimeline.DEFAULT_HOTSPOT_ARROW_WIDTH/
2,d=e+DvtTimeline.DEFAULT_HOTSPOT_ARROW_WIDTH/2,m=k=g+DvtTimeline.DEFAULT_HOTSPOT_ARROW_HEIGHT/2,n=this._resources.scrollLeft,t=this._resources.scrollRight):(e=u=this._startX+(this._canvasLength-DvtTimeline.DEFAULT_HOTSPOT_WIDTH)/2,g=this._startY+b*(this._seriesSize+this.getTimeAxisSize())+DvtTimeline.DEFAULT_HOTSPOT_PADDING,h=this._startY+(b+1)*this._seriesSize+b*this.getTimeAxisSize()-DvtTimeline.DEFAULT_HOTSPOT_HEIGHT-DvtTimeline.DEFAULT_HOTSPOT_PADDING,d=v=u+DvtTimeline.DEFAULT_HOTSPOT_ARROW_WIDTH/
2,k=g+DvtTimeline.DEFAULT_HOTSPOT_ARROW_HEIGHT/2,m=h+DvtTimeline.DEFAULT_HOTSPOT_ARROW_HEIGHT/2,n=this._resources.scrollUp,t=this._resources.scrollDown);u=new DvtRect(this.getCtx(),u,g,DvtTimeline.DEFAULT_HOTSPOT_WIDTH,DvtTimeline.DEFAULT_HOTSPOT_HEIGHT,"ths");u.setSolidFill(DvtTimeline.DEFAULT_HOTSPOT_BACKGROUND_COLOR,1);u.setCornerRadius(DvtTimeline.DEFAULT_HOTSPOT_BORDER_RADIUS);u.hotspot="top";u.setAlpha(0);u.setMouseEnabled(!1);v=new DvtImage(this.getCtx(),n,v,k,DvtTimeline.DEFAULT_HOTSPOT_ARROW_WIDTH,
DvtTimeline.DEFAULT_HOTSPOT_ARROW_HEIGHT,"ths_arr");v.hotspot="top";u.addChild(v);e=new DvtRect(this.getCtx(),e,h,DvtTimeline.DEFAULT_HOTSPOT_WIDTH,DvtTimeline.DEFAULT_HOTSPOT_HEIGHT,"bhs");e.setSolidFill(DvtTimeline.DEFAULT_HOTSPOT_BACKGROUND_COLOR,1);e.setCornerRadius(DvtTimeline.DEFAULT_HOTSPOT_BORDER_RADIUS);e.hotspot="bottom";e.setAlpha(0);e.setMouseEnabled(!1);d=new DvtImage(this.getCtx(),t,d,m,DvtTimeline.DEFAULT_HOTSPOT_ARROW_WIDTH,DvtTimeline.DEFAULT_HOTSPOT_ARROW_HEIGHT,"bhs_arr");d.hotspot=
"bottom";e.addChild(d);c.addChild(u);this._scrollHotspots.push(u);c.addChild(e);this._scrollHotspots.push(e)}}};
DvtTimeline.prototype.showThenHideHotspots=function(a){for(var b=new DvtAnimator(this.getCtx(),DvtTimeline.DEFAULT_HOTSPOT_ANIMATION_DURATION,0,DvtEasing.linear),c=0;c<this._scrollHotspots.length;c++){var d=this._scrollHotspots[c],e=d.getId(),g=!0;this._contentLength<=this._canvasLength&&("lhs"==e||"rhs"==e)&&(g=!1);var h=d.getParent().getId();h&&(h=h.substring(h.length-1),null!=a&&a!=h&&(g=!1),this._series[h]._maxOverflowValue<=this._seriesSize&&("ths"==e||"bhs"==e)&&(g=!1));g&&b.addProp(DvtAnimator.TYPE_NUMBER,
d,d.getAlpha,d.setAlpha,DvtTimeline.DEFAULT_HOTSPOT_OPACITY)}DvtPlayable.appendOnEnd(b,this.hideHotspots,this);b.play()};DvtTimeline.prototype.hideHotspots=function(){var a=this._scrollHotspots.length;if(0!=a){for(var b=new DvtAnimator(this.getCtx(),DvtTimeline.DEFAULT_HOTSPOT_ANIMATION_DURATION,0,DvtEasing.linear),c=0;c<a;c++){var d=this._scrollHotspots[c];b.addProp(DvtAnimator.TYPE_NUMBER,d,d.getAlpha,d.setAlpha,0)}b.play()}};
DvtTimeline.prototype.applyStyleValues=function(){this._style=new DvtCSSStyle(DvtTimeline.DEFAULT_TIMELINE_STYLE);if(this.Options.styleDefaults){var a=this.Options.styleDefaults.borderColor;a&&this._style.parseInlineStyle("border-color:"+a+";")}if(this._hasOverview&&(this._overviewSize=this._isVertical?DvtTimeline.DEFAULT_OVERVIEW_WIDTH:DvtTimeline.DEFAULT_OVERVIEW_HEIGHT,a=this.Options.overview.style))for(var a=a.split(";"),b=0;b<a.length;b++){var c=a[b];if(c&&0<c.length){var d=c.indexOf(":");if(-1<
d){var e=DvtStringUtils.trim(c.substring(0,d));if(this._isVertical&&"width"==e||!this._isVertical&&"height"==e){this._overviewSize=parseInt(DvtStringUtils.trim(c.substring(d+1)),10);break}}}}DvtTimeline.superclass.applyStyleValues.call(this);a=this._style.getBorderWidth();b=2*a;this._style.parseInlineStyle("border:"+b+"px;");this._startY=this._startX=a;this._backgroundWidth=this.Width;this._backgroundHeight=this.Height;this._isVertical?(this._canvasLength=this._backgroundHeight-b,this._hasOverview?
(this._canvasSize=this._backgroundWidth-this._overviewSize-b,this.isRTL()&&(this._startX+=this._overviewSize)):this._canvasSize=this._backgroundWidth-b):(this._canvasLength=this._backgroundWidth-b,this._canvasSize=this._hasOverview?this.Height-this._overviewSize-b:this.Height-b)};
DvtTimeline.prototype.applyAxisStyleValues=function(){this._axisStyle=new DvtCSSStyle(DvtTimeline.DEFAULT_AXIS_STYLE);if(this._axisStyleDefaults){var a="",b=this._axisStyleDefaults.backgroundColor;b&&(a=a+"background-color:"+b+";");(b=this._axisStyleDefaults.borderColor)&&(a=a+"border-color:"+b+";");(b=this._axisStyleDefaults.borderWidth)&&(a=a+"border-width:"+b+";");this._axisStyle.parseInlineStyle(a)}this._axisStyle.parseInlineStyle(this._axisInlineStyle);this._axisBorderWidth=this._axisStyle.getBorderWidth();
this._axisStyle.parseInlineStyle("border:"+2*this._axisBorderWidth+"px;");this._timeAxis.setBorderWidth(this._axisBorderWidth);this._axisLength=this._contentLength+2*this._axisBorderWidth-DvtTimeComponentAxis.DEFAULT_SEPARATOR_WIDTH;if(this._seriesStyleDefaults&&this._seriesStyleDefaults.backgroundColor){var c=this._seriesStyleDefaults.backgroundColor,a=DvtColorUtils.getRed(c),b=DvtColorUtils.getGreen(c),c=DvtColorUtils.getBlue(c);this._seriesBackgroundOverlayStyle="background-color:rgba("+a+","+
b+","+c+",0.8);"}};DvtTimeline.prototype.createBackground=function(){this._background=new DvtRect(this.getCtx(),0,0,this._backgroundWidth,this._backgroundHeight,"bg");this._background.setCSSStyle(this._style);this._background.setPixelHinting(!0);var a=new DvtClipPath;a.addRect(0,0,this._backgroundWidth,this._backgroundHeight);this._background.setClipPath(a);this.addChild(this._background)};
DvtTimeline.prototype.setupInnerCanvas=function(){this._innerCanvas=new DvtContainer(this.getCtx(),"iCanvas");var a=new DvtClipPath;this._isVertical?(a.addRect(this._startX,this._startY,this._canvasSize,this._canvasLength),this._innerCanvas.setTranslateX(this._startX),this._innerCanvas.setTranslateY(this._startY+this._startPos)):(a.addRect(this._startX,this._startY,this._canvasLength,this._canvasSize),this._innerCanvas.setTranslateX(this._startX+this._startPos),this._innerCanvas.setTranslateY(this._startY));
this._canvas.setClipPath(a);this._canvas.addChild(this._innerCanvas)};
DvtTimeline.prototype.prepareViewportLength=function(){this._setLength=!0;this._startPos=0;this.isRTL()&&!this._isVertical&&(this._startPos=this._backgroundWidth-this._contentLength-this._startPos);if(this._viewStartTime&&this._viewEndTime){var a=this._viewEndTime-this._viewStartTime;0<a&&(this._setLength=!1,a=this._canvasLength/a,this.setContentLength(a*(this._end-this._start)),this._startPos=a*(this._start-this._viewStartTime),this.isRTL()&&!this._isVertical&&(this._startPos=this._backgroundWidth-
this._contentLength-this._startPos))}};
DvtTimeline.prototype.prepareTimeAxisZoomLevelIntervals=function(a,b){var c=this.getCtx(),d=new DvtCSSStyle(DvtTimeline.DEFAULT_AXIS_LABEL_STYLE);this._axisStyleDefaults&&d.parseInlineStyle(this._axisStyleDefaults.labelStyle);this._timeAxis=new DvtTimeComponentAxis(c,null,null,this._isVertical,this._zoomOrder);this._timeAxis.setConverter(this._converter);this._timeAxis.setType(DvtTimeComponentAxisFormatter.SHORT,this._dateFormatStrings);this._dates=[];this._labels=[];this._zoomLevelLengths=[];if(this._isVertical){var e=
DvtTimeComponentAxis.DEFAULT_INTERVAL_HEIGHT;this._timeAxis.setDefaultConverter(this._resources.converterVert)}else e=DvtTimeComponentAxis.DEFAULT_INTERVAL_WIDTH,this._timeAxis.setDefaultConverter(this._resources.converter);for(var g=0;g<this._timeAxis._zoomOrder.length;g++){var h=this._timeAxis._zoomOrder[g];this._timeAxis.setScale(h);var k=new DvtRect(c,0,0,0,0,"tempAxis"),m=Infinity,n=0,t=[],u=[],v=this._timeAxis.adjustDate(a).getTime();for(t.push(v);v<b;){var w=this._timeAxis.formatDate(this._timeAxis.adjustDate(v)),
x=new DvtOutputText(c,w,0,0,"s_label"+v);x.setCSSStyle(d);x.time=v;u.push(x);w=this._timeAxis.getNextDate(this._timeAxis.adjustDate(v)).getTime();k.addChild(x);var y=x.getDimensions();k.removeChild(x);this._isVertical?(x=y.h,y=y.w):(x=y.w,y=y.h);x=Math.max(e,x+2*DvtTimeComponentAxis.DEFAULT_INTERVAL_PADDING);v=(w-v)/x;v<m&&(m=v);y>n&&(n=y);v=w;t.push(v)}this._timeAxis.setContentSize(n+2*DvtTimeComponentAxis.DEFAULT_INTERVAL_PADDING);this._dates.push(t);this._labels.push(u);k=(b-a)/m;this._zoomLevelLengths.push(k);
h==this._scale&&(this._zoomLevelOrder=g,this._setLength&&(this.setContentLength(k),this._setLength=!1,null==this._viewStartTime?(this._viewStartTime=this._start,this._startPos=0,this.isRTL()&&!this._isVertical&&(this._startPos=this._backgroundWidth-this._contentLength-this._startPos),this._viewEndTime=this._canvasLength/k*(b-a)+this._viewStartTime,this._viewEndTime>this._end&&(this._viewEndTime=this._end)):(this._viewEndTime=this._canvasLength/k*(b-a)+this._viewStartTime,this._viewEndTime>this._end&&
(this._viewEndTime=this._end),this._startPos=this._canvasLength/(this._viewEndTime-this._viewStartTime)*(this._start-this._viewStartTime),this.isRTL()&&!this._isVertical&&(this._startPos=this._backgroundWidth-this._contentLength-this._startPos))));0==g&&(this._maxContentLength=u.length*this._canvasLength)}this._timeAxis.setScale(this._scale)};
DvtTimeline.prototype._populateSeries=function(){this._series=[];this._seriesOptions=[];var a=this.Options.series;if(a)for(var b=Math.min(a.length,2),c=0;c<b;c++){var d=a[c];d.start=this._start;d.end=this._end;d.inverted=this._defaultInversions[c];d.orientation=this.Options.orientation;d.referenceObjects=this._referenceObjects;d.timeline=this;d.index=c;this.Options.majorAxis&&(d.scale=this.Options.majorAxis.scale,d.timeAxis=this._seriesTimeAxis);this.Options.styleDefaults&&(d.seriesStyleDefaults=
this._seriesStyleDefaults,d.itemStyleDefaults=this._itemStyleDefaults,d.referenceObjectStyleDefaults=this._referenceObjectStyleDefaults,d.axisStyleDefaults=this._majorAxisStyleDefaults);this._seriesOptions.push(d);d=new DvtTimelineSeries(this.getCtx(),this.HandleEvent,this);this._series.push(d)}};
DvtTimeline.prototype.renderAxis=function(){var a=this._series.length,b=this.getTimeAxisSize(),a=1==a?this._canvasSize-b:this._canvasSize/a-b/2;this.isRTL()&&this._isVertical&&1==this._series.length&&(a=0);if(null==this._axis){var c=new DvtClipPath;this._isVertical?(this._axis=new DvtRect(this.getCtx(),a,-this._axisBorderWidth,b,this._axisLength,"axis"),c.addRect(a,0,b,this._contentLength)):(this._axis=new DvtRect(this.getCtx(),-this._axisBorderWidth,a,this._axisLength,b,"axis"),c.addRect(0,a,this._contentLength,
b));this._axis.setCSSStyle(this._axisStyle);this._axis.setPixelHinting(!0);this._axis.setClipPath(c);this._innerCanvas.addChild(this._axis)}else c=new DvtClipPath,this._isVertical?(this._axis.setX(a),this._axis.setY(-this._axisBorderWidth),this._axis.setWidth(b),this._axis.setHeight(this._axisLength),c.addRect(a,0,b,this._contentLength)):(this._axis.setX(-this._axisBorderWidth),this._axis.setY(a),this._axis.setWidth(this._axisLength),this._axis.setHeight(b),c.addRect(0,a,this._contentLength,b)),this._axis.setClipPath(c);
this.createSeriesTicks(this._contentLength,a)};
DvtTimeline.prototype.createSeriesTicks=function(a,b){this._axis.removeChildren();var c=new DvtCSSStyle(DvtTimeline.DEFAULT_AXIS_SEPARATOR_STYLE),d=new DvtCSSStyle(DvtTimeline.DEFAULT_SERIES_AXIS_LABEL_STYLE);if(this._axisStyleDefaults){var e=this._axisStyleDefaults.separatorColor;e&&c.parseInlineStyle("color:"+e+";");this._seriesBackgroundOverlayStyle&&d.parseInlineStyle(this._seriesBackgroundOverlayStyle);this._majorAxisStyleDefaults&&d.parseInlineStyle(this._majorAxisStyleDefaults.labelStyle)}var c=new DvtSolidStroke(c.getStyle(DvtCSSStyle.COLOR)),
e=this._timeAxis.getContentSize(),g=b+this._timeAxis._borderWidth;this.renderTimeAxis(this._fetchStartPos,this._fetchEndPos,this._axis,a,g+e,g,g,c);this._seriesScale&&this.renderSeriesTimeAxis(this._fetchStartPos,this._fetchEndPos,this._innerCanvas,"o_",a,d)};
DvtTimeline.prototype.renderTimeAxis=function(a,b,c,d,e,g,h,k){var m=new DvtContainer(this.getCtx(),"block_"+a+"_"+b);m.startPos=a;m.endPos=b;c.addChild(m);a=this._dates[this._zoomLevelOrder];b=this._labels[this._zoomLevelOrder];for(c=0;c<a.length-1;c++){var n=a[c],t=a[c+1],u=DvtTimeUtils.getDatePosition(this._start,this._end,n,d),t=DvtTimeUtils.getDatePosition(this._start,this._end,t,d),v=t-u;0!=u&&((this._isVertical?this.addTick(m,e,g,u,u,k,"s_tick"+n):this.isRTL()?this.addTick(m,d-u,d-u,e,g,k,
"s_tick"+n):this.addTick(m,u,u,e,g,k,"s_tick"+n)).time=n);this._isVertical?this.addAxisLabel(m,b[c],h+(e-h)/2,u+(t-u)/2-7,e-h):this.isRTL()?this.addAxisLabel(m,b[c],d-(u+(t-u)/2),h+2,v):this.addAxisLabel(m,b[c],u+(t-u)/2,h+2,v)}};
DvtTimeline.prototype.renderSeriesTimeAxis=function(a,b,c,d,e,g){if(this._majorAxisLabels)for(var h=0;h<this._majorAxisLabels.length;h++)c.removeChild(this._majorAxisLabels[h]);this._majorAxisLabels=[];var h=this._start,k=this._end;a=DvtTimeUtils.getPositionDate(h,k,a,e);var m=this._seriesTimeAxis.adjustDate(a);a=new Date(m);for(m=DvtTimeUtils.getDatePosition(h,k,m,e);m<b;){var n=this._seriesTimeAxis.formatDate(this._seriesTimeAxis.adjustDate(a)),t=this._seriesTimeAxis.getNextDate(this._seriesTimeAxis.adjustDate(a)),
u=DvtTimeUtils.getDatePosition(h,k,t,e),v=u-m,w=m;(this.isRTL()?this._isVertical?this.addLabel(c,this._canvasSize-5,n,v,w+18,g,d+"label"+m+"_s0",!0,DvtTimeline.DEFAULT_SERIES_AXIS_LABEL_PADDING,this._majorAxisLabels,this.isRTL()):this.addLabel(c,e-(w+5),n,v,this._seriesSize-2,g,d+"label"+m+"_s0",!0,DvtTimeline.DEFAULT_SERIES_AXIS_LABEL_PADDING,this._majorAxisLabels,this.isRTL()):this._isVertical?this.addLabel(c,5,n,v,w+18,g,d+"label"+m+"_s0",!0,DvtTimeline.DEFAULT_SERIES_AXIS_LABEL_PADDING,this._majorAxisLabels,
this.isRTL()):this.addLabel(c,w+5,n,v,this._seriesSize-2,g,d+"label"+m+"_s0",!0,DvtTimeline.DEFAULT_SERIES_AXIS_LABEL_PADDING,this._majorAxisLabels,this.isRTL())).time=a.getTime();a=t;m=u}};
DvtTimeline.prototype.renderSeries=function(){if(this._series){var a=this._series.length,b=this.getTimeAxisSize();!this._isVertical&&1<a&&this._canvasSize%2!=b%2&&(this._timeAxis.setContentSize(this._timeAxis.getContentSize()+1),b=this.getTimeAxisSize());this._seriesSize=(this._canvasSize-b)/a;for(var c=0;c<a;c++){var d=this._series[c],e=new DvtClipPath;if(this._isVertical){var g=this.isRTL()?Math.abs(c-1):c;this.isRTL()&&1==this._series.length?(e.addRect(b,0,this._seriesSize,this._contentLength),
g=new DvtMatrix(1,0,0,1,b,0)):(e.addRect(g*(this._seriesSize+b),0,this._seriesSize,this._contentLength),g=new DvtMatrix(1,0,0,1,g*(this._seriesSize+b),0));var h=this._seriesSize,k=this._contentLength}else e.addRect(0,c*(this._seriesSize+b),this._contentLength,this._seriesSize),g=new DvtMatrix(1,0,0,1,0,c*(this._seriesSize+b)),h=this._contentLength,k=this._seriesSize;d.setClipPath(e);d.setMatrix(g);this._innerCanvas.addChild(d);d.render(h,k,this._seriesOptions[c])}}};
DvtTimeline.prototype.renderSeriesLabels=function(){if(this._series)for(var a=this._series.length,b=DvtTimelineSeries._DEFAULT_LABEL_SPACING,c=2*DvtTransientButton._DEFAULT_RADIUS+6,d=2*b,e=0;e<a;e++){var g=this._series[e],h=g.getLabel();if(null!=h){var k=g.getLabelStyle();this._seriesBackgroundOverlayStyle&&k.parseInlineStyle(this._seriesBackgroundOverlayStyle);h=new DvtOutputText(this.getCtx(),h,0,0,"sl_s"+e);h.setCSSStyle(k);this.addChild(h);var m=h.getDimensions();this.removeChild(h);var n=Math.min(m.w,
(this._isVertical?this._seriesSize:this._canvasLength)-(e-1)*-c-d),t=new DvtRect(this.getCtx(),0,0,n+2*DvtTimelineSeries.DEFAULT_LABEL_PADDING,m.h+2*DvtTimelineSeries.DEFAULT_LABEL_PADDING,"slb_s"+e);t.setCSSStyle(k);t.setCornerRadius(3);if(this._isVertical)k=this.isRTL()?Math.abs(e-1)*(this._canvasSize-n-d)+b+this._startX+(e-1)*c:e*(this._canvasSize-n-d)+b+this._startX+(e-1)*-c,u=this._startY+b;else var k=this.isRTL()?this._canvasLength-n-b-(e-1)*-c:this._startX+b+(e-1)*-c,u=e*(this._canvasSize-
m.h-d)+b+this._startY;m=new DvtMatrix(1,0,0,1,k,u);h.setMatrix(m);m=new DvtMatrix(1,0,0,1,k-DvtTimelineSeries.DEFAULT_LABEL_PADDING,u-DvtTimelineSeries.DEFAULT_LABEL_PADDING);t.setMatrix(m);this.addChild(t);DvtTextUtils.fitText(h,n,Infinity,this)}g._isEmpty&&(h=g.getEmptyText(),null!=h&&(n=g.getEmptyTextStyle(),g=new DvtOutputText(this.getCtx(),h,0,0,"et_s"+e),g.setCSSStyle(n),this.addChild(g),m=g.getDimensions(),this.removeChild(g),m=new DvtMatrix(1,0,0,1,(this._canvasLength-m.w)/2+this._startX,
e*(this._seriesSize+this.getTimeAxisSize())+(this._seriesSize-m.h)/2+this._startY),g.setMatrix(m),this.addChild(g)))}};
DvtTimeline.prototype.renderOverview=function(){this._overviewCanvas=new DvtContainer(this.getCtx(),"oCanvas");var a=this._style.getBorderWidth(),b=a/2;if(this._isVertical){var c=this._overviewSize,a=this.Height-a;this.isRTL()||this._overviewCanvas.setTranslateX(this.Width-this._overviewSize-b);this._overviewCanvas.setTranslateY(b)}else c=this.Width-a,a=this._overviewSize,this._overviewCanvas.setTranslateY(this.Height-this._overviewSize-b),this._overviewCanvas.setTranslateX(b);this.addChild(this._overviewCanvas);
this._overview=new DvtTimelineOverview(this.getCtx(),this.HandleEvent,this);this._overviewCanvas.addChild(this._overview);b=this._getOverviewObject();this._overview.render(b,c,a)};DvtTimeline.prototype.getOverviewWindowBackgroundColor=function(){return this._overviewStyleDefaults&&this._overviewStyleDefaults.window&&this._overviewStyleDefaults.window.backgroundColor?this._overviewStyleDefaults.window.backgroundColor:DvtTimeline.DEFAULT_OVERVIEW_WINDOW_BACKGROUND_COLOR};
DvtTimeline.prototype.getOverviewWindowBorderColor=function(){return this._overviewStyleDefaults&&this._overviewStyleDefaults.window&&this._overviewStyleDefaults.window.borderColor?this._overviewStyleDefaults.window.borderColor:DvtTimeline.DEFAULT_OVERVIEW_WINDOW_BORDER_COLOR};DvtTimeline.prototype.getOverviewBackgroundColor=function(){return this._overviewStyleDefaults&&this._overviewStyleDefaults.backgroundColor?this._overviewStyleDefaults.backgroundColor:DvtTimeline.DEFAULT_OVERVIEW_BACKGROUND_COLOR};
DvtTimeline.prototype._getOverviewObject=function(){var a=this._isVertical?"vertical":"horizontal",b=this._isVertical?this._resources.overviewHandleVert+'" _hw\x3d"15" _hh\x3d"3"':this._resources.overviewHandleHor+'" _hw\x3d"3" _hh\x3d"15"',c=this._referenceObjects&&0<this._referenceObjects.length&&this._referenceObjects[0],d=this._isVertical?"":'_ds\x3d"square" _dsx\x3d"1.3d" _dsy\x3d"0.9d" ',e=this.getOverviewWindowBorderColor();return'\x3ctimelineOverview renstart\x3d"'+this._viewStartTime+'" start\x3d"'+
this._start+'" end\x3d"'+this._end+'" width\x3d"'+this._contentLength+'" orn\x3d"'+a+(c?'" ocd\x3d"'+this._referenceObjects[0].getTime():"")+'" _hbi\x3d"'+b+' ovp\x3d"below" selmode\x3d"'+this._selectionMode+'" rtl\x3d"'+this.isRTL()+'" sid\x3d"ts1" _bts\x3d"none" _btc\x3d"#4f4f4f" _fc\x3d"#aadd77" '+d+'_do\x3d"0" _wbc\x3d"'+this.getOverviewWindowBackgroundColor()+'" _wbts\x3d"solid" _wbrs\x3d"solid" _wbbs\x3d"solid" _wbls\x3d"solid" _wbtc\x3d"'+e+'" _wbrc\x3d"'+e+'" _wbbc\x3d"'+e+'" _wblc\x3d"'+
e+'" _hfc\x3d"#FFFFFF" _obc\x3d"'+this.getOverviewBackgroundColor()+'" _ctic\x3d"#FF591F" _tic\x3d"#BCC7D2" _tabc\x3d"#D9DFE3" _tabo\x3d"1" _bs\x3d"solid" _bc\x3d"#648BAF" _bw\x3d"1px" _bof\x3d"0px" _dbs\x3d"solid" _dbc\x3d"#648BAF" _dbw\x3d"1px" _hbs\x3d"solid" _hbc\x3d"#85bbe7" _hbw\x3d"2px" _hbof\x3d"0px" _hgc\x3d"#ebeced" _hgo\x3d"1" _hdbs\x3d"solid" _hdbc\x3d"#85bbe7" _hdbw\x3d"2px" _sbs\x3d"solid" _sbc\x3d"#000000" _sbw\x3d"2px" _sbof\x3d"0px" _sbo\x3d"1" _sdbs\x3d"solid" _sdbc\x3d"#000000" _sdbw\x3d"2px" _asbs\x3d"solid" _asbc\x3d"#000000" _asbw\x3d"2px" _asbof\x3d"0px" _asbo\x3d"1" _asgc\x3d"#e4f0fa" _asgo\x3d"1" _asdbs\x3d"solid" _asdbc\x3d"#000000" _asdbw\x3d"2px" _aoc\x3d"off"\x3e'+
this._getMajorAxisXml()+this._getOverviewMarkersXml()+"\x3c/timelineOverview\x3e"};
DvtTimeline.prototype._getMajorAxisXml=function(){var a="\x3cticks\x3e";if(this._seriesTimeAxis)for(var b=this._start,c=this._end,d=this._isVertical?this.Height:this.Width,e=DvtTimeUtils.getPositionDate(b,c,this._fetchStartPos,d),g=this._seriesTimeAxis.adjustDate(e),e=new Date(g),g=DvtTimeUtils.getDatePosition(b,c,g,d);g<this._fetchEndPos;)var g=this._seriesTimeAxis.formatDate(this._seriesTimeAxis.adjustDate(e)),h=this._seriesTimeAxis.getNextDate(this._seriesTimeAxis.adjustDate(e)),k=DvtTimeUtils.getDatePosition(b,
c,h,d),a=a+('\x3ctick time\x3d"'+e.getTime()+'" label\x3d"'+g+'"/\x3e'),e=h,g=k;return a+"\x3c/ticks\x3e"};
DvtTimeline.prototype._getOverviewMarkersXml=function(){if(this._series){for(var a="\x3cmarkers\x3e",b=this._series.length,c=0;c<b;c++)for(var d=this._series[c]._items,e=0;e<d.length;e++){var g=d[e],a=a+('\x3cti rk\x3d"'+e),a=a+('" tid\x3d"'+g.getId()),a=a+('" t\x3d"'+g.getStartTime()),h=g.getEndTime();h&&(a+='" et\x3d"'+h,(g=g.getDurationFillColor())&&(a+='" dfc\x3d"'+g));a+='" _sd\x3d"true"/\x3e'}return a+"\x3c/markers\x3e"}};
DvtTimeline.prototype.HandleTouchStart=function(a){if(1==a.touches.length){if(this._dragPanSeries=this._findSeries(a.target))var b=this._series[0]==this._dragPanSeries?0:1;this.showThenHideHotspots(b)}};
DvtTimeline.prototype.beginPinchZoom=function(a,b,c,d){this._initialPinchZoomLoc=this._isVertical?Math.sqrt((b-d)*(b-d))+(b<d?b:d):Math.sqrt((a-c)*(a-c))+(a<c?a:c);this._initialPinchZoomTime=(this._end-this._start)/this._contentLength*this._initialPinchZoomLoc+this._viewStartTime;this._initialPinchZoomDist=Math.sqrt((a-c)*(a-c)+(b-d)*(b-d));this._initialPinchZoomLength=this._contentLength};
DvtTimeline.prototype.HandleMouseWheel=function(a){DvtEventManager.consumeEvent(a);var b=a.wheelDelta;if(b){var c=this.getCtx().getStageAbsolutePosition();a=this._isVertical?a.pageY-c.y:a.pageX-c.x;c=(this._end-this._start)/this._contentLength*a+this._viewStartTime;b=.02*b+1;this.handleZoomWheel(this.getContentLength()*b,c,a,!0)}};
DvtTimeline.prototype.handleZoomWheel=function(a,b,c,d){a>this._maxContentLength?(a=this._maxContentLength,this.disableZoomButton(!0)):this.enableZoomButton(!0);this._canvasLength>a?(a=this._canvasLength,this.disableZoomButton(!1)):this.enableZoomButton(!1);var e=this._contentLength<=a,g=(this._viewEndTime-this._viewStartTime)/(this._end-this._start)*this._contentLength;this.setContentLength(a);a=g/this._contentLength*(this._end-this._start);b?(g=(this._end-this._start)/this._contentLength,this._viewStartTime=
b-c*g,this._viewStartTime<this._start&&(this._viewStartTime=this._start),this._viewEndTime=this._viewStartTime+a,this._viewEndTime>this._end&&(this._viewEndTime=this._end,this._viewStartTime=this._viewEndTime-a,this._viewStartTime<this._start&&(this._viewStartTime=this._start)),this._startPos=1/g*(this._start-this._viewStartTime)):(this._viewStartTime=this._start,this._viewEndTime=this._viewStartTime+a,this._viewStartTime<this._start&&(this._viewStartTime=this._start),this._startPos=0);this.isRTL()&&
!this._isVertical&&(this._startPos=this._backgroundWidth-this._contentLength-this._startPos);this._hasOverview&&this._overview.setViewportRange(this._viewStartTime,this._viewEndTime,this._isVertical?this._overview.Height:this._overview.Width);if(e)for(;0<this._zoomLevelOrder;)if(b=this._zoomLevelLengths[this._zoomLevelOrder-1],this._contentLength>=b)this._zoomLevelOrder--,this._timeAxis.decreaseScale(),this._scale=this._timeAxis._scale;else break;else for(;this._zoomLevelOrder<this._zoomLevelLengths.length-
1;)if(b=this._zoomLevelLengths[this._zoomLevelOrder],this._contentLength<b)this._zoomLevelOrder++,this._timeAxis.increaseScale(),this._scale=this._timeAxis._scale;else break;this.applyAxisStyleValues();this.renderAxis();this.updateSeries();this._isVertical?this._innerCanvas.setTranslateY(this._startY+this._startPos):this._innerCanvas.setTranslateX(this._startX+this._startPos);d&&this.__dispatchEvent(new DvtTimelineViewportChangeEvent(DvtTimelineViewportChangeEvent.TYPE,this._viewStartTime,this._viewEndTime,
this._scale))};DvtTimeline.prototype.handleZoom=function(a){a?this.zoomBy(1/DvtTimeline.ZOOM_BY_VALUE):this.zoomBy(DvtTimeline.ZOOM_BY_VALUE)};DvtTimeline.prototype.zoomBy=function(a){a=(1/a-1)/2+1;var b=this._isVertical?this.Height/2:this.Width/2,c=(this._end-this._start)/this._contentLength*b+this._viewStartTime;this.handleZoomWheel(this.getContentLength()*a,c,b,!0)};
DvtTimeline.prototype.updateSeries=function(){if(this._series){var a=this._series.length;this._seriesSize=(this._canvasSize-this.getTimeAxisSize())/a;for(var b=0;b<a;b++){var c=this._series[b];c.setClipPath(null);var d=new DvtClipPath;if(this._isVertical){var e=this.isRTL()?Math.abs(b-1):b;this.isRTL()&&1==this._series.length?(d.addRect(this.getTimeAxisSize(),0,this._seriesSize,this._contentLength),e=new DvtMatrix(1,0,0,1,this.getTimeAxisSize(),0)):(d.addRect(e*(this._seriesSize+this.getTimeAxisSize()),
0,this._seriesSize,this._contentLength),e=new DvtMatrix(1,0,0,1,e*(this._seriesSize+this.getTimeAxisSize()),0));var g=this._seriesSize,h=this._contentLength}else d.addRect(0,b*(this._seriesSize+this.getTimeAxisSize()),this._contentLength,this._seriesSize),e=new DvtMatrix(1,0,0,1,0,b*(this._seriesSize+this.getTimeAxisSize())),g=this._contentLength,h=this._seriesSize;c.setClipPath(d);c.setMatrix(e);c.reRender(g,h)}}};
DvtTimeline.prototype.HandleKeyDown=function(a){DvtKeyboardEvent.RIGHT_ARROW!=a.keyCode&&DvtKeyboardEvent.LEFT_ARROW!=a.keyCode&&DvtKeyboardEvent.DOWN_ARROW!=a.keyCode&&DvtKeyboardEvent.UP_ARROW!=a.keyCode||this.updateScrollForItemNavigation(this.EventManager.getFocus())};DvtTimeline.prototype.HandleMouseDown=function(a){this._dragPanSeries=this._findSeries(a.target)};DvtTimeline.prototype.beginDragPan=function(a,b){this._currentX=a;this._currentY=b};
DvtTimeline.prototype.HandleTouchEnd=function(a){"none"!=this._selectionMode&&this.handleShapeClick(a,"multiple"==this._selectionMode)};DvtTimeline.prototype.HandleMouseClick=function(a){this.handleShapeClick(a,a.ctrlKey&&"multiple"==this._selectionMode)};DvtTimeline.prototype.endDragPan=function(){this._dragPanSeries=null;this.endPan()};
DvtTimeline.prototype.endPan=function(){this._triggerViewportChange&&(this._triggerViewportChange=!1,this.__dispatchEvent(new DvtTimelineViewportChangeEvent(DvtTimelineViewportChangeEvent.TYPE,this._viewStartTime,this._viewEndTime,this._scale)))};
DvtTimeline.prototype.endPinchZoom=function(){this._initialPinchZoomTime=this._initialPinchZoomLength=this._initialPinchZoomLoc=this._initialPinchZoomDist=null;this._triggerViewportChange&&(this._triggerViewportChange=!1,this.__dispatchEvent(new DvtTimelineViewportChangeEvent(DvtTimelineViewportChangeEvent.TYPE,this._viewStartTime,this._viewEndTime,this._scale)))};
DvtTimeline.prototype.contPinchZoom=function(a,b,c,d){a=Math.sqrt((a-c)*(a-c)+(b-d)*(b-d));a!=this._initialPinchZoomDist&&(this._triggerViewportChange=!0);this.handleZoomWheel(a/this._initialPinchZoomDist*this._initialPinchZoomLength,this._initialPinchZoomTime,this._initialPinchZoomLoc,!1)};
DvtTimeline.prototype.contDragPan=function(a,b){if(this._currentX&&this._currentY){var c=this._currentX-a,d=this._currentY-b;if(0==c&&0==d)return!1;this._triggerViewportChange=!0;this._currentX=a;this._currentY=b;this.panBy(c,d);return!0}return!1};
DvtTimeline.prototype.panBy=function(a,b){if(this._isVertical){var c,d;if(this._dragPanSeries){var e=this._dragPanSeries.getTranslateX()-a;1<this._series.length&&(!this.isRTL()&&this._dragPanSeries._isInverted||this.isRTL()&&!this._dragPanSeries._isInverted)?(c=this.getTimeAxisSize()+2*this._dragPanSeries.Width-this._dragPanSeries._maxOverflowValue,d=this._dragPanSeries.Width+this.getTimeAxisSize()):this.isRTL()&&!this._dragPanSeries._isInverted?(c=this._dragPanSeries.Width-this._dragPanSeries._maxOverflowValue+
this.getTimeAxisSize(),d=this.getTimeAxisSize()):(c=0,d=this._dragPanSeries._maxOverflowValue-this._dragPanSeries.Width);e<c?e=c:e>d&&(e=d);this._dragPanSeries.setTranslateX(e)}c=this._innerCanvas.getTranslateY()-b;d=-(this._contentLength-this._canvasLength-this._startY);e=this._startY;c<d?c=d:c>e&&(c=e);this._innerCanvas.setTranslateY(c);this._startPos=c-this._startY;c=this.getContentLength()/(this._end-this._start);d=this._viewEndTime-this._viewStartTime;this._viewStartTime=this._start-this._startPos/
c;this._viewEndTime=this._viewStartTime+d;this._hasOverview&&(c=this._overview.Height,this._overview.setViewportRange(this._viewStartTime,this._viewEndTime,c))}else e=this._innerCanvas.getTranslateX()-a,c=-(this._contentLength-this._canvasLength-this._startX),d=this._startX,e<c?e=c:e>d&&(e=d),this._innerCanvas.setTranslateX(e),this._startPos=e-this._startX,this.isRTL()&&(this._startPos=this._backgroundWidth-this._contentLength-this._startPos),c=this.getContentLength()/(this._end-this._start),d=this._viewEndTime-
this._viewStartTime,this._viewStartTime=this._start-this._startPos/c,this._viewEndTime=this._viewStartTime+d,this.isRTL()&&(this._startPos=this._backgroundWidth-this._contentLength-this._startPos),this._hasOverview&&(c=this._overview.Width,this._overview.setViewportRange(this._viewStartTime,this._viewEndTime,c)),this._dragPanSeries&&(c=this._dragPanSeries.getTranslateY()-b,this._dragPanSeries._isInverted?(d=this.getTimeAxisSize()+2*this._dragPanSeries.Height-this._dragPanSeries._maxOverflowValue,
e=this._dragPanSeries.Height+this.getTimeAxisSize()):(d=0,e=this._dragPanSeries._maxOverflowValue-this._dragPanSeries.Height),c<d?c=d:c>e&&(c=e),this._dragPanSeries.setTranslateY(c))};
DvtTimeline.prototype.HandleEvent=function(a,b){var c=a.getType();if("selection"==c||"dvtAct"==c)DvtEventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,a);else if("overview"==c){c=a.getSubType();if("rangeChanging"==c||"rangeChange"==c){var d=this._viewEndTime-this._viewStartTime;this._viewStartTime=a.getNewStartTime();this._viewEndTime=a.getNewEndTime();var e=this._viewEndTime-this._viewStartTime;if(0<e){var g=this._canvasLength/e;this.setContentLength(g*(this._end-this._start));this._startPos=
g*(this._start-this._viewStartTime);this.isRTL()&&!this._isVertical&&(this._startPos=this._backgroundWidth-this._contentLength-this._startPos);if(d>e){d=this._zoomLevelLengths.length;for(e=this._zoomLevelLengths[d-1];this._contentLength>=e&&0<d;)d--,e=this._zoomLevelLengths[d-1];d==this._zoomLevelLengths.length&&d--}else for(d=0,e=this._zoomLevelLengths[d];this._contentLength<e&&d<this._zoomLevelLengths.length-1;)d++,e=this._zoomLevelLengths[d];this._zoomLevelOrder=d;this._timeAxis.setScale(this._timeAxis._zoomOrder[d]);
this._scale=this._timeAxis._scale;this.applyAxisStyleValues();this.renderAxis();this.updateSeries();this._isVertical?this._innerCanvas.setTranslateY(this._startY+this._startPos):this._innerCanvas.setTranslateX(this._startX+this._startPos)}"rangeChange"==c&&this.__dispatchEvent(new DvtTimelineViewportChangeEvent(DvtTimelineViewportChangeEvent.TYPE,this._viewStartTime,this._viewEndTime,this._scale))}if("scrollPos"==c||"scrollTime"==c)this._viewStartTime=a.getNewStartTime(),this._viewEndTime=a.getNewEndTime(),
g=this.getContentLength()/(this._end-this._start),this._startPos=g*(this._start-this._viewStartTime),this.isRTL()&&!this._isVertical&&(this._startPos=this._backgroundWidth-this._contentLength-this._startPos),this._isVertical?this._innerCanvas.setTranslateY(this._startY+this._startPos):this._innerCanvas.setTranslateX(this._startX+this._startPos),this.__dispatchEvent(new DvtTimelineViewportChangeEvent(DvtTimelineViewportChangeEvent.TYPE,this._viewStartTime,this._viewEndTime,this._scale))}else if(c=
a.getSubType(),"selection"==c)for(var h=a.getItemId(),k=a.isMultiSelect()&&"multiple"==this._selectionMode,c=0;c<this._series.length;c++)for(d=this._series[c],e=0;e<d._items.length;e++){if(g=d._items[e],g.getId()==h){this.SelectionHandler._addToSelection(g,k);this.EventManager.setFocusObj(g);this.updateScrollForItemSelection(g);break}}else if("highlight"==c)for(h=a.getItemId(),c=0;c<this._series.length;c++)for(d=this._series[c],e=0;e<d._items.length;e++){if(g=d._items[e],g.getId()==h){g.showHoverEffect(!0);
break}}else if("unhighlight"==c)for(h=a.getItemId(),c=0;c<this._series.length;c++)for(d=this._series[c],e=0;e<d._items.length;e++)if(g=d._items[e],g.getId()==h){g.hideHoverEffect(!0);break}};
DvtTimeline.prototype.createZoomControls=function(){var a=this.getCtx(),b=DvtTransientButton.getStateFromURL(a,this._resources.zoomIn),c=DvtTransientButton.getStateFromURL(a,this._resources.zoomIn_h),d=DvtTransientButton.getStateFromURL(a,this._resources.zoomIn_a),e=DvtTransientButton.getStateFromURL(a,this._resources.zoomIn_d);this.zoomin=new DvtTransientButton(this.getCtx(),b,c,d,e,this.EventManager,this.EventManager.HandleZoomInClick);this.zoomin.setTooltip(DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,
"ZOOM_IN",null));b=DvtTransientButton.getStateFromURL(a,this._resources.zoomOut);c=DvtTransientButton.getStateFromURL(a,this._resources.zoomOut_h);d=DvtTransientButton.getStateFromURL(a,this._resources.zoomOut_a);e=DvtTransientButton.getStateFromURL(a,this._resources.zoomOut_d);this.zoomout=new DvtTransientButton(this.getCtx(),b,c,d,e,this.EventManager,this.EventManager.HandleZoomOutClick);this.zoomout.setTooltip(DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"ZOOM_OUT",null));this.zoomin.hide();
this.zoomout.hide();this.EventManager.associate(this.zoomin,this.zoomin);this.EventManager.associate(this.zoomout,this.zoomout);this.isRTL()?(this.zoomin.setTranslateX(this._backgroundWidth-44),this.zoomout.setTranslateX(this._backgroundWidth-44)):(this.zoomin.setTranslateX(this._startX+11),this.zoomout.setTranslateX(this._startX+11));this.zoomin.setTranslateY(this._startY+11);this.zoomout.setTranslateY(this._startY+48);this._canvas.addChild(this.zoomin);this._canvas.addChild(this.zoomout);a=this.getContentLength();
a>=this._maxContentLength&&this.disableZoomButton(!0);this._canvasLength>=a&&this.disableZoomButton(!1)};DvtTimeline.prototype.enableZoomButton=function(a){a?(this.zoomin.setEnabled(!0),this.zoomin.drawUpState()):(this.zoomout.setEnabled(!0),this.zoomout.drawUpState())};DvtTimeline.prototype.disableZoomButton=function(a){a?(this.zoomin.setEnabled(!1),this.zoomin.drawDisabledState(),this.zoomin.setCursor(null)):(this.zoomout.setEnabled(!1),this.zoomout.drawDisabledState(),this.zoomout.setCursor(null))};
DvtTimeline.prototype.updateScrollForItemSelection=function(a){var b=this._viewEndTime-this._viewStartTime;this._viewStartTime=a.getStartTime()-b/2;this._viewStartTime<this._start?this._viewStartTime=this._start:this._viewStartTime+b>this._end&&(this._viewStartTime=this._end-b);this._viewEndTime=this._viewStartTime+b;this._startPos=this.getContentLength()/(this._end-this._start)*(this._start-this._viewStartTime);this.isRTL()&&!this._isVertical&&(this._startPos=this._backgroundWidth-this._contentLength-
this._startPos);this._isVertical?this._innerCanvas.setTranslateY(this._startY+this._startPos):this._innerCanvas.setTranslateX(this._startX+this._startPos);this.__dispatchEvent(new DvtTimelineViewportChangeEvent(DvtTimelineViewportChangeEvent.TYPE,this._viewStartTime,this._viewEndTime,this._scale))};
DvtTimeline.prototype.updateScrollForItemNavigation=function(a){var b=a.getLoc()-20;a=b+(this._isVertical?a.getHeight():a.getWidth());this.isRTL()&&!this._isVertical&&(this._startPos=this._backgroundWidth-this._contentLength-this._startPos);var c=this._startPos-this._canvasLength;-b>this._startPos?this._startPos=-b:-a<c&&(this._startPos=-a+this._canvasLength);b=this.getContentLength()/(this._end-this._start);a=this._viewEndTime-this._viewStartTime;this._viewStartTime=this._start-this._startPos/b;
this._viewStartTime<this._start&&(this._viewStartTime=this._start,this._startPos=(this._start-this._viewStartTime)*b);this._viewEndTime=this._viewStartTime+a;this._viewEndTime>this._end&&(this._viewEndTime=this._end,this._viewStartTime=this._viewEndTime-a,this._startPos=(this._start-this._viewStartTime)*b);this.isRTL()&&!this._isVertical&&(this._startPos=this._backgroundWidth-this._contentLength-this._startPos);this._isVertical?this._innerCanvas.setTranslateY(this._startY+this._startPos):this._innerCanvas.setTranslateX(this._startX+
this._startPos);this._hasOverview&&this._overview.setViewportRange(this._viewStartTime,this._viewEndTime,this._isVertical?this._overview.Height:this._overview.Width);this.__dispatchEvent(new DvtTimelineViewportChangeEvent(DvtTimelineViewportChangeEvent.TYPE,this._viewStartTime,this._viewEndTime,this._scale))};DvtTimeline.prototype.handleShapeClick=function(a){if(a&&(a=this._findDrawable(a.target))){var b=this._findSeries(a);a._node&&(b=this._findSeries(a),b.HandleItemAction(a._node))}};
DvtTimeline.prototype.applyInitialSelections=function(){if(this.Options.selection)for(var a=[],b=0;b<this._series.length;b++)for(var c=this._series[b],d=0;d<c._items.length;d++)a.push(c._items[d]);this.SelectionHandler.processInitialSelections(this.Options.selection,a)};DvtTimeline.prototype.processEvent=function(a){a&&this.__dispatchEvent(a)};
DvtTimeline.prototype._findSeries=function(a){if(a&&a!=this){var b=a.getId();return b&&"series"==b.substring(0,6)?a:b&&"_s0"==b.substring(b.length-3,b.length)?this._series[0]:b&&"_s1"==b.substring(b.length-3,b.length)?this._series[1]:this._findSeries(a.getParent())}return null};
DvtTimeline.prototype._findDrawable=function(a){if(a){var b=a.getId();if(b&&"_duration_"==b.substring(0,10)&&a._node)return a;var c=a.getParent();if(c){if(b&&"zoom"==b.substring(0,4))return a;if(b&&"_bubble_"==b.substring(0,8)&&c._node)return c;if(a=c.getParent()){if(b&&"_bubble_"==b.substring(0,8)&&a._node)return a;if((b=a.getId())&&"_bubble_"==b.substring(0,8)&&a.getParent())return a.getParent()}}}return null};
DvtTimeline.prototype.getAutomation=function(){this.Automation||(this.Automation=new DvtTimelineAutomation(this));return this.Automation};DvtTimeline.prototype.isVertical=function(){return this._isVertical};DvtTimeline.prototype.__getEventManager=function(){return this.EventManager};var DvtTimelineAutomation=function(a){this._timeline=a};DvtObj.createSubclass(DvtTimelineAutomation,DvtAutomation,"DvtTimelineAutomation");DvtTimelineAutomation.TIMELINE_ITEM_STRING="timelineItem";
DvtTimelineAutomation.prototype.GetSubIdForDomElement=function(a){if((a=this._timeline.EventManager.GetLogicalObject(a))&&a instanceof DvtTimelineSeriesNode)for(var b=0;b<this._timeline._series.length;b++){var c=this._timeline._series[b]._items.indexOf(a);if(-1!=c)return DvtTimelineAutomation.TIMELINE_ITEM_STRING+"["+b+"]["+c+"]"}return null};
DvtTimelineAutomation.prototype.getDomElementForSubId=function(a){if(a){var b=a.indexOf("[");if(0<b&&a.substring(0,b)===DvtTimelineAutomation.TIMELINE_ITEM_STRING){var c=a.indexOf("]");if(0<c&&(b=parseInt(a.substring(b+1,c)),a=parseInt(a.substring(c+2,a.length-1)),c=this._timeline._series[b])&&(a=c._items[a]))return a.getDisplayables()[0].getElem()}}return null};var DvtTimelineParser=function(a){this.Init(a)};DvtObj.createSubclass(DvtTimelineParser,DvtTimeComponentParser,"DvtTimelineParser");
DvtTimelineParser.prototype.parse=function(a){this._itemSelection=a.selectionMode;a.viewportStart&&(this._viewStartTime=new Date(a.viewportStart));a.viewportEnd&&(this._viewEndTime=new Date(a.viewportEnd));var b=DvtTimelineParser.superclass.parse.call(this,a),c=a.minorAxis;if(c){var d=c.scale;b.scale=d;var e=c.zoomOrder;null==e?e=[d]:e.reverse();b.zoomOrder=e;b.converter=c.converter;b.axisStyle=c.style}if(c=a.majorAxis)b.seriesScale=c.scale,b.seriesConverter=c.converter;b.shortDesc=a.shortDesc;b.id=
a.id;b.orientation=a.orientation;if((c=a.referenceObjects)&&0<c.length){d=[];for(e=0;e<c.length;e++)d.push(new Date(c[e].value));b.referenceObjects=d}a=a.overview;b.hasOverview=null!=a&&"on"==a.rendered?!0:!1;return b};
DvtTimelineParser.prototype.ParseRootAttributes=function(){var a=DvtTimelineParser.superclass.ParseRootAttributes.call(this);a.start=this._startTime.getTime();a.end=this._endTime.getTime();this._viewStartTime&&(a.viewStart=this._viewStartTime.getTime());this._viewEndTime&&(a.viewEnd=this._viewEndTime.getTime());a.selectionMode="none";null!=this._itemSelection&&(a.selectionMode=this._itemSelection);return a};var DvtTimelineSeries=function(a,b,c){this.Init(a,b,c)};
DvtObj.createSubclass(DvtTimelineSeries,DvtTimeComponent,"DvtTimelineSeries");DvtTimelineSeries.DEFAULT_BUBBLE_OFFSET=20;DvtTimelineSeries.DEFAULT_BUBBLE_SPACING=15;DvtTimelineSeries.DEFAULT_DURATION_FEELER_OFFSET=10;DvtTimelineSeries.DEFAULT_THUMBNAIL_WIDTH=32;DvtTimelineSeries.DEFAULT_THUMBNAIL_HEIGHT=32;DvtTimelineSeries._DEFAULT_LABEL_SPACING=20;DvtTimelineSeries.ENABLED_STATE_KEY="en";DvtTimelineSeries.SELECTED_STATE_KEY="sel";DvtTimelineSeries.ACTIVE_SELECTED_STATE_KEY="asel";
DvtTimelineSeries.HIGHLIGHTED_STATE_KEY="hl";DvtTimelineSeries.FEELER_WIDTH_KEY="fw";DvtTimelineSeries.FEELER_COLOR_KEY="fc";DvtTimelineSeries.ITEM_FILL_COLOR_KEY="bc";DvtTimelineSeries.ITEM_STROKE_COLOR_KEY="bsc";DvtTimelineSeries.ITEM_STROKE_WIDTH_KEY="bsw";DvtTimelineSeries.ITEM_INNER_STROKE_COLOR_KEY="bisc";DvtTimelineSeries.ITEM_INNER_STROKE_WIDTH_KEY="bisw";DvtTimelineSeries.DEFAULT_STYLE="background-color:#f9f9f9;";DvtTimelineSeries.DEFAULT_LABEL_STYLE="background-color:rgba(249,249,249,0.8);color:#252525;white-space:nowrap;font-size:13px;font-weight:bold;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;";
DvtTimelineSeries.DEFAULT_LABEL_PADDING=2;DvtTimelineSeries.DEFAULT_EMPTY_TEXT_STYLE="color:#333333;white-space:nowrap;font-size:12px;font-weight:normal;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;";DvtTimelineSeries.DEFAULT_SERIES_AXIS_SEPARATOR_STYLE="color:#bcc7d2";DvtTimelineSeries.DEFAULT_ITEM_ENABLED_FILL_COLOR="#ffffff";DvtTimelineSeries.DEFAULT_ITEM_ENABLED_STROKE_COLOR="#648baf";DvtTimelineSeries.DEFAULT_ITEM_ENABLED_STROKE_WIDTH=1;
DvtTimelineSeries.DEFAULT_ITEM_SELECTED_FILL_COLOR="#ffffff";DvtTimelineSeries.DEFAULT_ITEM_SELECTED_STROKE_COLOR="#000000";DvtTimelineSeries.DEFAULT_ITEM_SELECTED_STROKE_WIDTH=2;DvtTimelineSeries.DEFAULT_ITEM_ACTIVE_SELECTED_FILL_COLOR="#ffffff";DvtTimelineSeries.DEFAULT_ITEM_ACTIVE_SELECTED_STROKE_COLOR="#000000";DvtTimelineSeries.DEFAULT_ITEM_ACTIVE_SELECTED_STROKE_WIDTH=2;DvtTimelineSeries.DEFAULT_ITEM_HIGHLIGHTED_FILL_COLOR="#ffffff";DvtTimelineSeries.DEFAULT_ITEM_HIGHLIGHTED_STROKE_COLOR="#85bbe7";
DvtTimelineSeries.DEFAULT_ITEM_HIGHLIGHTED_STROKE_WIDTH=2;DvtTimelineSeries.DEFAULT_ITEM_INNER_FILL_COLOR="rgba(249,249,249,0)";DvtTimelineSeries.DEFAULT_ITEM_INNER_ENABLED_STROKE_COLOR="rgba(249,249,249,0)";DvtTimelineSeries.DEFAULT_ITEM_INNER_ENABLED_STROKE_WIDTH=2;DvtTimelineSeries.DEFAULT_ITEM_INNER_SELECTED_STROKE_COLOR="rgba(249,249,249,0)";DvtTimelineSeries.DEFAULT_ITEM_INNER_SELECTED_STROKE_WIDTH=2;DvtTimelineSeries.DEFAULT_ITEM_INNER_ACTIVE_SELECTED_STROKE_COLOR="#e4f0fa";
DvtTimelineSeries.DEFAULT_ITEM_INNER_ACTIVE_SELECTED_STROKE_WIDTH=2;DvtTimelineSeries.DEFAULT_ITEM_INNER_HIGHLIGHTED_STROKE_COLOR="#e4f0fa";DvtTimelineSeries.DEFAULT_ITEM_INNER_HIGHLIGHTED_STROKE_WIDTH=2;DvtTimelineSeries.DEFAULT_ITEM_TITLE_STYLE="color:#000000;white-space:nowrap;font-size:12px;font-weight:bold;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;";DvtTimelineSeries.DEFAULT_ITEM_DESCRIPTION_STYLE="color:#084B8A;white-space:nowrap;font-size:12px;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;";
DvtTimelineSeries.DEFAULT_FEELER_ENABLED_WIDTH=1;DvtTimelineSeries.DEFAULT_FEELER_SELECTED_WIDTH=2;DvtTimelineSeries.DEFAULT_FEELER_ACTIVE_SELECTED_WIDTH=2;DvtTimelineSeries.DEFAULT_FEELER_HIGHLIGHTED_WIDTH=2;DvtTimelineSeries.DEFAULT_FEELER_ENABLED_COLOR="#648baf";DvtTimelineSeries.DEFAULT_FEELER_SELECTED_COLOR="#333333";DvtTimelineSeries.DEFAULT_FEELER_ACTIVE_SELECTED_COLOR="#333333";DvtTimelineSeries.DEFAULT_FEELER_HIGHLIGHTED_COLOR="#85bbe7";DvtTimelineSeries.DEFAULT_REFERENCE_OBJECT_STYLE="color:#ff591f";
DvtTimelineSeries.DEFAULT_COLORS_ARRAY="#267DB3 #68C182 #FAD55C #ED6647 #8561C8 #6DDBDB #FFB54D #E371B2 #47BDEF #A2BF39 #A75DBA #F7F37B".split(" ");DvtTimelineSeries.prototype.Init=function(a,b,c){DvtTimelineSeries.superclass.Init.call(this,a,b,c);this.setId("series1000"+Math.floor(1E9*Math.random()));DvtTimeUtils.supportsTouch()&&DvtToolkitUtils.setAttrNullNS(this._elem,"id",this._id);this._blocks=[];this._renderedReferenceObjects=[];this._seriesTicksArray=[];this._itemListeners=[]};
DvtTimelineSeries.prototype.resetAnimators=function(){if(null!=this._animatorQueue)for(var a=0;a<this._animatorQueue.length;a++)this._animatorQueue[a].stop(!0);null!=this._animationTimer&&this._animationTimer.stop();delete this._animatorQueue;delete this._animationTimer};DvtTimelineSeries.prototype.addAnimator=function(a){null==this._animatorQueue&&(this._animatorQueue=[]);this._animatorQueue.push(a)};
DvtTimelineSeries.prototype.startAnimations=function(){if(null!=this._animatorQueue&&0<this._animatorQueue.length){if(this._animatorQueue.shift().play(),null==this._animationTimer){var a=2500/this._animatorQueue.length/2;this._animationTimer=new DvtTimer(this.getCtx(),a,this.startAnimations,this);this._animationTimer.start()}}else null!=this._animationTimer&&this._animationTimer.stop()};
DvtTimelineSeries.prototype.render=function(a,b,c){this._canvas=null;this._blocks=[];this._renderedReferenceObjects=[];this.removeChildren();DvtTimelineSeries.superclass.render.call(this,a,b,c);this._isVertical=(c=this.Options.orientation)&&c==DvtTimeline.ORIENTATION_VERTICAL?!0:!1;this._fetchStartPos=0;this._isVertical?(this._fetchEndPos=b,this._maxOverflowValue=a,this._length=b,this._size=a):(this._fetchEndPos=a,this._maxOverflowValue=b,this._length=a,this._size=b);this._isInverted=this.Options.inverted;
this._maxDurationSize=this._colorCount=0;this.createBackground(a,b);this.renderScrollableCanvas();this.renderReferenceObjects();this._scale&&this._timeAxis&&this.createSeriesTicks(a);this.parseDataXML();this.updateReferenceObjects();this.updateSeriesTicks();DvtTimeUtils.supportsTouch()&&0<this._items.length&&this._setAriaProperty("flowto","_bt_"+this._items[0].getId());if(a=this.GetComponentDescription())DvtToolkitUtils.setAttrNullNS(this.getElem(),"role","group"),DvtToolkitUtils.setAttrNullNS(this.getElem(),
"aria-label",DvtStringUtils.processAriaLabel(a))};DvtTimelineSeries.prototype.GetComponentDescription=function(){var a=[DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"TIMELINE_SERIES")];this._label?a.push(this._label):a.push(this.Options.index+1);return DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"COLON_SEP_LIST",a)};
DvtTimelineSeries.prototype.reRender=function(a,b){this._canvas.setTranslateY(0);this._canvas.setTranslateX(0);this.Width=a;this.Height=b;this._fetchStartPos=0;this._isVertical?(this._fetchEndPos=b,this._maxOverflowValue=a,this._length=b,this._size=a):(this._fetchEndPos=a,this._maxOverflowValue=b,this._length=a,this._size=b);this._background.setWidth(a);this._background.setHeight(b);this.adjustItemsForZoom();this.updateReferenceObjects();this.updateSeriesTicks()};
DvtTimelineSeries.prototype.applyStyleValues=function(){this._style=new DvtCSSStyle(DvtTimelineSeries.DEFAULT_STYLE);this._seriesStyleDefaults=this.Options.seriesStyleDefaults;this._itemStyleDefaults=this.Options.itemStyleDefaults;this._referenceObjectStyleDefaults=this.Options.referenceObjectStyleDefaults;this._axisStyleDefaults=this.Options.axisStyleDefaults;this._colors=DvtTimelineSeries.DEFAULT_COLORS_ARRAY;this._labelStyle=new DvtCSSStyle(DvtTimelineSeries.DEFAULT_LABEL_STYLE);this._emptyTextStyle=
new DvtCSSStyle(DvtTimelineSeries.DEFAULT_EMPTY_TEXT_STYLE);this._referenceObjects=this.Options.referenceObjects;if(this._seriesStyleDefaults){var a=this._seriesStyleDefaults.backgroundColor;a&&this._style.parseInlineStyle("background-color:"+a+";");if(a=this._seriesStyleDefaults.colors)this._colors=a;(a=this._seriesStyleDefaults.labelStyle)&&this._labelStyle.parseInlineStyle(a);(a=this._seriesStyleDefaults.emptyTextStyle)&&this._emptyTextStyle.parseInlineStyle(a)}this._referenceObjectStyleDefaults&&
(a=this._referenceObjectStyleDefaults.color)&&this._referenceObjectStyle.parseInlineStyle("color:"+a+";");DvtTimeline.superclass.applyStyleValues.call(this)};DvtTimelineSeries.prototype.SetOptions=function(a){this.Options=a};
DvtTimelineSeries.prototype.adjustItemsForZoom=function(){if(null!=this._items&&0!=this._items.length){var a=this.isRTL(),b=this._fetchEndPos,c=this._blocks[0];c.startPos=this._fetchStartPos;c.endPos=b;this.prepareDurations(this._items);this._initialSpacing=this._isVertical?20*(0<this._maxDurationSize?1:0)+DvtTimelineSeries.DEFAULT_BUBBLE_SPACING+10*this._maxDurationSize:20+DvtTimelineSeries.DEFAULT_BUBBLE_SPACING+10*this._maxDurationSize;for(b=0;b<this._items.length;b++){var d=this._items[b],e=d.getStartTime(),
c=DvtTimeUtils.getDatePosition(this._start,this._end,e,this._length),g=d.getEndTime();g&&g!=e&&(e=DvtTimeUtils.getDatePosition(this._start,this._end,g,this._length)-c,c+=Math.min(DvtTimelineSeries.DEFAULT_DURATION_FEELER_OFFSET,e/2));d.setLoc(c);d.setSpacing(null)}for(b=0;b<this._items.length;b++)if(d=this._items[b],c=d.getStartTime(),!(c<this._start||c>this._end)){c=d.getLoc();e=this.calculateSpacing(d,this._items.length);d.setSpacing(e);var g=d.getBubble(),h=d.getWidth(),k=d.getHeight();this._isVertical?
(k=c-k/2,h=a&&this._isInverted||!a&&!this._isInverted?this._size-(h+this._initialSpacing):this._initialSpacing):(h=a?this._length-c-h+DvtTimelineSeries.DEFAULT_BUBBLE_OFFSET:c-DvtTimelineSeries.DEFAULT_BUBBLE_OFFSET,k=this._isInverted?e:this.Height-e-k);g.setTranslate(h,k);this._isVertical||(d=d.getFeeler(),this._isInverted?g=0:(g=this.Height,e=this.Height-e),c=a?this._length-c:c,d.setTranslateY(0),d.setX1(c),d.setY1(g),d.setX2(c),d.setY2(e))}this.adjustDurationsForZoom();this._isVertical||this.adjustFeelers();
this._isInverted||(this.adjustDurations(),this.adjustItems());this.adjustBackground()}};
DvtTimelineSeries.prototype.adjustDurationsForZoom=function(){for(var a=this.isRTL(),b=this._maxDurationSize;0<b;b--)for(var c=0;c<this._items.length;c++){var d=this._items[c],e=d.getDurationBar();if(null!=e){this._isVertical?e.setTranslateY(0):e.setTranslateX(0);var g=DvtTimeUtils.getDatePosition(this._start,this._end,d.getStartTime(),this._length),h=22+10*d.getDurationLevel(),d=DvtTimeUtils.getDatePosition(this._start,this._end,d.getEndTime(),this._length);this._isVertical?(!a&&!this._isInverted||
a&&this._isInverted?e.setX(this._size-h+5):e.setX(-5),e.setY(g),e.setWidth(h),e.setHeight(d-g)):(d-=g,a?e.setX(this._length-g-d):e.setX(g),this._isInverted?e.setY(-5):e.setY(this._size-h+5),e.setWidth(d),e.setHeight(h))}}};
DvtTimelineSeries.prototype.createSeriesTicks=function(a){var b=new DvtCSSStyle(DvtTimelineSeries.DEFAULT_SERIES_AXIS_SEPARATOR_STYLE);if(this._axisStyleDefaults){var c=this._axisStyleDefaults.separatorColor;c&&b.parseInlineStyle("color:"+c+";")}b=new DvtSolidStroke(b.getStyle(DvtCSSStyle.COLOR));b.setStyle(DvtStroke.DASHED,3);this._seriesTicks=new DvtContainer(this.getCtx());this.renderSeriesTimeAxis(this._fetchStartPos,this._fetchEndPos,this._seriesTicks,"o_",a,b);this._canvas.addChild(this._seriesTicks)};
DvtTimelineSeries.prototype.renderSeriesTimeAxis=function(a,b,c,d,e,g){e=this._start;var h=this._end;a=DvtTimeUtils.getPositionDate(e,h,a,this._length);var k=this._timeAxis.adjustDate(a);a=new Date(a);for(var m=DvtTimeUtils.getDatePosition(e,h,k,this._length);m<b;){var k=this._timeAxis.getNextDate(this._timeAxis.adjustDate(a)),n=DvtTimeUtils.getDatePosition(e,h,k,this._length),t=!this._isVertical&&this.isRTL()?this._length-m:m;if(this._isVertical)var u=0,v=t,w=this._maxOverflowValue;else u=t,v=0,
w=t,t=this._maxOverflowValue;m=this.addTick(c,u,w,v,t,g,d+"tick"+m);m.time=a.getTime();this._seriesTicksArray.push(m);a=k;m=n}};DvtTimelineSeries.prototype.createBackground=function(a,b){this._background=new DvtRect(this.getCtx(),0,0,a,b,"bg");this._background.setCSSStyle(this._style);this._background.setPixelHinting(!0);this._background.setCursor("move");this.addChild(this._background)};DvtTimelineSeries.prototype.Parse=function(a){this._parser=new DvtTimelineSeriesParser(this);return this._parser.parse(a)};
DvtTimelineSeries.prototype._applyParsedProperties=function(a){this._isEmpty=(this._items=a.items)&&0<this._items.length?!1:!0;this._defaultStyles=a.defaultStyles;this._itemTitleStyle=a.itemTitleStyle;this._itemDescriptionStyle=a.itemDescriptionStyle;this._referenceObjectStyle=a.referenceObjectStyle;this._label=a.label;this._timeAxis=a.timeAxis;this._emptyText=a.emptyText;null==this._emptyText&&(this._emptyText=DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"NO_DATA",null));DvtTimelineSeries.superclass._applyParsedProperties.call(this,
a)};
DvtTimelineSeries.prototype.renderItems=function(a,b,c){var d=new DvtContainer(this.getCtx(),"itemBlock_"+a+"_"+b);d.startPos=a;d.endPos=b;this.prepareDurations(this._items);this._initialSpacing=this._isVertical?20*(0<this._maxDurationSize?1:0)+DvtTimelineSeries.DEFAULT_BUBBLE_SPACING+10*this._maxDurationSize:20+DvtTimelineSeries.DEFAULT_BUBBLE_SPACING+10*this._maxDurationSize;this._layoutItems=[];for(var e=0;e<this._items.length;e++){var g=this._items[e],h=DvtTimeUtils.getDatePosition(this._start,this._end,
g.getStartTime(),this._length),k=g.getEndTime();k&&k!=g.getStartTime()&&(k=DvtTimeUtils.getDatePosition(this._start,this._end,k,this._length)-h,h+=Math.min(DvtTimelineSeries.DEFAULT_DURATION_FEELER_OFFSET,k/2));g.setLoc(h);for(var k=!0,m=0;m<this._layoutItems.length;m++)if(h<this._layoutItems[m].getLoc()){this._layoutItems.splice(m,0,g);k=!1;break}k&&this._layoutItems.push(g)}for(e=0;e<this._layoutItems.length;e++)g=this._layoutItems[e],h=DvtTimeUtils.getDatePosition(this._start,this._end,g.getStartTime(),
this._length),h<a||h>b||this.addItem(d,d.feelers,d.durations,g,c);this.renderDurations(d.durations);this._canvas.addChild(d);this._blocks.push(d)};
DvtTimelineSeries.prototype.renderDurations=function(a){for(var b=this.getCtx(),c=this.isRTL(),d=this._maxDurationSize;0<d;d--)for(var e=0;e<this._items.length;e++){var g=this._items[e],h=g.getStartTime(),k=g.getEndTime();if(k&&k!=h&&d==g.getDurationLevel()){var m=DvtTimeUtils.getDatePosition(this._start,this._end,h,this._length),n="_duration_"+g.getId(),h=22+10*g.getDurationLevel(),k=DvtTimeUtils.getDatePosition(this._start,this._end,k,this._length);this._isVertical?(n=!c&&!this._isInverted||c&&
this._isInverted?new DvtRect(b,this._size-h+5,m,h,k-m,n):new DvtRect(b,-5,m,h,k-m,n),n.setY(m),n.setWidth(h),n.setHeight(k-m)):(k-=m,m=c?this._length-m-k:m,n=this._isInverted?new DvtRect(b,m,-5,k,h,n):new DvtRect(b,m,this._size-h+5,k,h,n));n.setCornerRadius(5);n.setSolidFill(g.getDurationFillColor());m=this.getStyle(DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.FEELER_WIDTH_KEY);k=this.getStyle(DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.FEELER_COLOR_KEY);m=new DvtSolidStroke(k,
1,m);n.setStroke(m);n._node=g;this._callbackObj.EventManager.associate(n,g);a.addChild(n);g.setDurationBar(n);g.setDurationSize(h-5)}}};DvtTimelineSeries.prototype.parseDataXML=function(){null!=this._items&&0!=this._items.length&&(this.resetAnimators(),this.renderItems(this._fetchStartPos,this._fetchEndPos),this._isVertical||this.adjustFeelers(),this._isInverted||(this.adjustDurations(),this.adjustItems()),this.adjustBackground(),this.startAnimations())};
DvtTimelineSeries.prototype.adjustBackground=function(){if(this._maxOverflowValue>this._size){this._isVertical?this._background.setWidth(this._maxOverflowValue):this._background.setHeight(this._maxOverflowValue);var a=this._maxOverflowValue-this._size}else a=0;if(!this._isInverted&&!this.isRTL()||this._isInverted&&this.isRTL())this._isVertical?this._background.setTranslateX(-a):this._background.setTranslateY(-a)};
DvtTimelineSeries.prototype.calculateSpacing=function(a,b){if(null!=this._layoutItems&&0!=this._layoutItems.length){var c=a.getLoc(),d=a.getSpacing();null==d&&(d=this._initialSpacing);var e=this._maxOverflowValue;if(this._isVertical)for(h=0;h<b;h++)k=this._layoutItems[h],m=k.getWidth()+10,e<d+m&&(e=d+m);else for(var g=DvtTimelineSeries.DEFAULT_BUBBLE_SPACING,h=0;h<b;h++){var k=this._layoutItems[h],m=k.getWidth()+10,n=k.getHeight();if(null!=k.getLoc()&&k!=a){var t=k.getLoc();null==t&&(t=0);k=k.getSpacing();
null==k&&(k=this._initialSpacing);c>=t&&c<=t+m&&d>=k&&d<=k+n&&(d=k+n+g,a.setSpacing(d),d=this.calculateSpacing(a,b))}e<d+n&&(e=d+n)}e>this._maxOverflowValue&&(this._maxOverflowValue=e+DvtTimelineSeries.DEFAULT_BUBBLE_SPACING);return d}};
DvtTimelineSeries.prototype.calculateDurationSize=function(a,b){if(null!=this._items&&0!=this._items.length){var c=a.getStartTime(),d=a.getEndTime();if(d&&d!=c){d=a.getDurationLevel();null==d&&(d=1);for(var e=0;e<b;e++){var g=this._items[e];if(g!=a){var h=g.getStartTime(),k=g.getEndTime();k&&k!=h&&(g=g.getDurationLevel(),null==g&&(g=1),c>=h&&c<=k&&d==g&&(d=g+1,a.setDurationLevel(d),d=this.calculateDurationSize(a,b)))}}d>this._maxDurationSize&&(this._maxDurationSize=d);return d}}};
DvtTimelineSeries.prototype.prepareDurations=function(a){for(a=0;a<this._items.length;a++){var b=this._items[a],c=b.getStartTime(),d=b.getEndTime();d&&d!=c&&(b.setDurationLevel(this.calculateDurationSize(b,this._items.length)),null==b.getDurationFillColor()&&(b.setDurationFillColor(this._colors[this._colorCount]),this._colorCount++,this._colorCount==this._colors.length&&(this._colorCount=0)))}};
DvtTimelineSeries.prototype.renderReferenceObjects=function(){if(this._referenceObjects)for(var a=Math.min(1,this._referenceObjects.length),b=0;b<a;b++){var c=this._referenceObjects[b];if(c){var d=this.isRTL()?this._length-DvtTimeUtils.getDatePosition(this._start,this._end,c,this._length):DvtTimeUtils.getDatePosition(this._start,this._end,c,this._length),d=this._isVertical?new DvtLine(this.getCtx(),0,d,this._maxOverflowValue,d,"zoomOrder[i]"):new DvtLine(this.getCtx(),d,0,d,this._maxOverflowValue,
"zoomOrder[i]"),e=new DvtSolidStroke(this._referenceObjectStyle.getStyle(DvtCSSStyle.COLOR));d.setStroke(e);d.setPixelHinting(!0);d.date=c;this._canvas.addChild(d);this._renderedReferenceObjects[b]=d}}};
DvtTimelineSeries.prototype.updateReferenceObjects=function(){for(var a=0;a<this._renderedReferenceObjects.length;a++){var b=this._renderedReferenceObjects[a],c=this.isRTL()?this._length-DvtTimeUtils.getDatePosition(this._start,this._end,b.date,this._length):DvtTimeUtils.getDatePosition(this._start,this._end,b.date,this._length);this._isVertical?(b.setX1(0),b.setY1(c),b.setX2(this._maxOverflowValue),b.setY2(c)):(b.setX1(c),b.setY1(0),b.setX2(c),b.setY2(this._maxOverflowValue))}};
DvtTimelineSeries.prototype.updateSeriesTicks=function(){for(var a=0;a<this._seriesTicksArray.length;a++){var b=this._seriesTicksArray[a],c=!this._isVertical&&this.isRTL()?this._length-DvtTimeUtils.getDatePosition(this._start,this._end,b.time,this._length):DvtTimeUtils.getDatePosition(this._start,this._end,b.time,this._length);this._isVertical?(b.setX1(0),b.setY1(c),b.setX2(this._maxOverflowValue),b.setY2(c)):(b.setX1(c),b.setY1(0),b.setX2(c),b.setY2(this._maxOverflowValue))}};
DvtTimelineSeries.prototype.addItem=function(a,b,c,d,e){var g=this.getCtx(),h=d.getId(),k=this.isRTL();null==b&&(b=new DvtContainer(g,"feelers"),a.addChild(b),a.feelers=b);null==c&&(c=new DvtContainer(g,"durations"),a.addChild(c),a.durations=c);c=d.getLoc();var m=this.calculateSpacing(d,this._items.length);d.setSpacing(m);d.getStyle();var n=this.getItemContent(d,null);this.addChild(n);var t=n.getDimensions();this.removeChild(n);d.setWidth(t.w+10);d.setHeight(t.h+10);var t=d.getWidth(),u=d.getHeight();
void 0==e&&(e=this.isAnimationEnabled());if(!this._isVertical){if(this._isInverted)v=0,w=m;else var v=this.Height,w=this.Height-m;var x;x=k?this._length-c:c;v=new DvtLine(g,x,v,x,w,"_feeler_"+h);e&&v.setAlpha(0);b.addChild(v);b=this.getStyle(DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.FEELER_WIDTH_KEY);w=this.getStyle(DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.FEELER_COLOR_KEY);b=new DvtSolidStroke(w,1,b);v.setStroke(b);v._node=d}w="_bubble_"+h;if(this._isVertical){x=u/2;var y=
x-6,z=x+6;!k&&this._isInverted||k&&!this._isInverted?(b=[0,0,0,y,-6,x,0,z,0,u,t,u,t,0,0,0],x=[2,2,2,y,-4,x,2,z,2,u-2,t-2,u-2,t-2,2,2,2]):(b=[0,0,0,u,t,u,t,z,t+6,x,t,y,t,0,0,0],x=[2,2,2,u-2,t-2,u-2,t-2,z,t+4,x,t-2,y,t-2,2,2,2])}else x=k?t-DvtTimelineSeries.DEFAULT_BUBBLE_OFFSET:DvtTimelineSeries.DEFAULT_BUBBLE_OFFSET,y=x-6,z=x+6,this._isInverted?(b=[0,0,y,0,x,-6,z,0,t,0,t,u,0,u,0,0],x=[2,2,y,2,x,-4,z,2,t-2,2,t-2,u-2,2,u-2,2,2]):(b=[0,0,0,u,y,u,x,u+6,z,u,t,u,t,0,0,0],x=[2,2,2,u-2,y,u-2,x,u+4,z,u-2,
t-2,u-2,t-2,2,2,2]);b=new DvtPolygon(g,b,w);w=new DvtPolygon(g,x,w+"_i");b.setSolidFill(this.getStyle(DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.ITEM_FILL_COLOR_KEY));b.setStroke(new DvtSolidStroke(this.getStyle(DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.ITEM_STROKE_COLOR_KEY)));w.setSolidFill(DvtTimelineSeries.DEFAULT_ITEM_INNER_FILL_COLOR);w.setStroke(new DvtSolidStroke(DvtTimelineSeries.DEFAULT_ITEM_INNER_ENABLED_STROKE_COLOR,1,DvtTimelineSeries.DEFAULT_ITEM_INNER_ENABLED_STROKE_WIDTH));
n.setTranslate(5,5);b.addChild(w);b.addChild(n);h=new DvtTimelineSeriesItem(g,this._defaultStyles,"_bt_"+h);e&&h.setAlpha(0);h.addChild(b);DvtTimeUtils.supportsTouch()&&DvtToolkitUtils.setAttrNullNS(h._elem,"id",h._id);h._node=d;this._isVertical?(m=c-u/2,k=k&&this._isInverted||!k&&!this._isInverted?this._size-(t+this._initialSpacing):this._initialSpacing):(k=k?this._length-c-t+DvtTimelineSeries.DEFAULT_BUBBLE_OFFSET:c-DvtTimelineSeries.DEFAULT_BUBBLE_OFFSET,m=this._isInverted?m:this.Height-m-u);h.setTranslate(k,
m);0<=c&&a.addChild(h);d.setBubble(h);h.setAriaRole("group");d._updateAriaLabel();this._callbackObj.EventManager.associate(h,d);this._isVertical||d.setFeeler(v);e&&(a=new DvtAnimator(g,1,0,DvtEasing.linear),a.addProp(DvtAnimator.TYPE_NUMBER,h,h.getAlpha,h.setAlpha,1),this._isVertical||a.addProp(DvtAnimator.TYPE_NUMBER,v,v.getAlpha,v.setAlpha,1),this.addAnimator(a));return b};
DvtTimelineSeries.prototype.getItemContent=function(a,b){var c=this.getCtx(),d=this.isRTL(),e=a.getTitle(),g=a.getDescription(),h=a.getThumbnail(),k=new DvtContainer(c),m=0,n=0;if(d)null!=e&&(t=new DvtOutputText(this.getCtx(),e,0,n),t.setCSSStyle(this._itemTitleStyle),m=t.measureDimensions().w+2,n=15,k.addChild(t)),null!=g&&(g=new DvtOutputText(this.getCtx(),g,0,n),g.setCSSStyle(this._itemDescriptionStyle),e=g.measureDimensions().w+2,0!=m&&e!=m&&(e>m?(t.setX(e-m),m=e):g.setX(m-e)),k.addChild(g)),
null!=h&&(c=new DvtImage(c,h,m,0,DvtTimelineSeries.DEFAULT_THUMBNAIL_WIDTH,DvtTimelineSeries.DEFAULT_THUMBNAIL_HEIGHT,"_tn"),c.setMouseEnabled(!1),k.addChild(c));else{null!=h&&(c=new DvtImage(c,h,0,0,DvtTimelineSeries.DEFAULT_THUMBNAIL_WIDTH,DvtTimelineSeries.DEFAULT_THUMBNAIL_HEIGHT,"_tn"),c.setMouseEnabled(!1),k.addChild(c),m=DvtTimelineSeries.DEFAULT_THUMBNAIL_WIDTH+2);if(null!=e){var t=new DvtOutputText(this.getCtx(),e,m,n);t.setCSSStyle(this._itemTitleStyle);n=15;k.addChild(t)}null!=g&&(g=new DvtOutputText(this.getCtx(),
g,m,n),g.setCSSStyle(this._itemDescriptionStyle),k.addChild(g))}return k};DvtTimelineSeries.prototype.getLabel=function(){return this._label};DvtTimelineSeries.prototype.getLabelStyle=function(){return this._labelStyle};DvtTimelineSeries.prototype.getEmptyText=function(){return this._emptyText};DvtTimelineSeries.prototype.getEmptyTextStyle=function(){return this._emptyTextStyle};
DvtTimelineSeries.prototype.adjustFeelers=function(){if(this._isInverted)var a=1;else if(a=-1,this._maxOverflowValue>this.Height)for(var b=this._maxOverflowValue-this.Height,c=0;c<this._blocks.length;c++){var d=this._blocks[c];if(d=d.feelers)for(var e=d.getNumChildren(),g=0;g<e;g++){var h=d.getChildAt(g);h.setTranslateY(h.getTranslateY()+b)}}for(c=0;c<this._blocks.length;c++)for(d=this._blocks[c],d=d.feelers,e=d.getNumChildren(),g=0;g<e;g++)h=d.getChildAt(g),(b=h._node.getDurationSize())&&h.setY1(h.getY1()+
b*a)};DvtTimelineSeries.prototype.adjustDurations=function(){for(var a=this._maxOverflowValue>this._size?this._maxOverflowValue-this._size:0,b=0;b<this._blocks.length;b++)for(var c=this._blocks[b].durations,d=c.getNumChildren(),e=0;e<d;e++){var g=c.getChildAt(e);this._isVertical?g.setTranslateX(a):g.setTranslateY(a)}};
DvtTimelineSeries.prototype.adjustItems=function(){if(this._maxOverflowValue>this._size){for(var a=this._maxOverflowValue-this._size,b=0;b<this._blocks.length;b++)for(var c=this._blocks[b],d=c.getNumChildren(),e=2;e<d;e++){var g=c.getChildAt(e);this._isVertical?g.setTranslateX(g.getTranslateX()+a):g.setTranslateY(g.getTranslateY()+a)}this._isVertical?this.setHScrollPos(a):this.setVScrollPos(a)}};
DvtTimelineSeries.prototype.findItem=function(a){if(null!=this._items)for(var b=0;b<this._items.length;b++){var c=this._items[b];if(c.getId()==a)return c}return null};DvtTimelineSeries.prototype.getStyle=function(a){a=this._defaultStyles[a];return a instanceof DvtCSSStyle?a.clone():a};DvtTimelineSeries.prototype.HandleItemAction=function(a){var b=a.getAction();b&&(a=new DvtTimelineSeriesActionEvent(b,a.getId()),DvtEventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,a))};
var DvtTimelineSeriesActionEvent=function(a,b){DvtTimelineSeriesActionEvent.superclass.constructor.call(this,DvtActionEvent.SUBTYPE_ACTION,a,b)};DvtObj.createSubclass(DvtTimelineSeriesActionEvent,DvtActionEvent,"DvtTimelineSeriesActionEvent");DvtTimelineSeries.prototype.isVertical=function(){return this._isVertical};var DvtTimelineSeriesItem=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtTimelineSeriesItem,DvtContainer,"DvtTimelineSeriesItem");DvtTimelineSeriesItem.ENABLED_STATE_KEY="en";
DvtTimelineSeriesItem.SELECTED_STATE_KEY="sel";DvtTimelineSeriesItem.ACTIVE_SELECTED_STATE_KEY="asel";DvtTimelineSeriesItem.HOVER_STATE_KEY="hl";DvtTimelineSeriesItem.prototype.Init=function(a,b,c){DvtTimelineSeriesItem.superclass.Init.call(this,a,"g",c);this._styles=b};
DvtTimelineSeriesItem.prototype.setSelected=function(a){this._isSelected!=a&&((this._isSelected=a)?this._isShowingHoverEffect?this.applyState(DvtTimelineSeriesItem.ACTIVE_SELECTED_STATE_KEY):this.applyState(DvtTimelineSeriesItem.SELECTED_STATE_KEY):this.applyState(DvtTimelineSeriesItem.ENABLED_STATE_KEY))};
DvtTimelineSeriesItem.prototype.showHoverEffect=function(a){this._isShowingHoverEffect||(this._isShowingHoverEffect=!0,this._isSelected&&a?this.applyState(DvtTimelineSeriesItem.ACTIVE_SELECTED_STATE_KEY):this._isSelected?this.applyState(DvtTimelineSeriesItem.SELECTED_STATE_KEY):this.applyState(DvtTimelineSeriesItem.HOVER_STATE_KEY))};
DvtTimelineSeriesItem.prototype.hideHoverEffect=function(a){this._isSelected&&a?this.applyState(DvtTimelineSeriesItem.ACTIVE_SELECTED_STATE_KEY):this._isSelected?this.applyState(DvtTimelineSeriesItem.SELECTED_STATE_KEY):this.applyState(DvtTimelineSeriesItem.ENABLED_STATE_KEY);this._isShowingHoverEffect=!1};
DvtTimelineSeriesItem.prototype.applyState=function(a){var b=this._node,c=b.getBubble();if(null!=c){var d=c.getChildAt(0),e=d.getChildAt(0),c=b.getDurationBar();d.setSolidFill(this.getStyle(a+DvtTimelineSeries.ITEM_FILL_COLOR_KEY));var g=this.getStyle(a+DvtTimelineSeries.ITEM_STROKE_COLOR_KEY),h=this.getStyle(a+DvtTimelineSeries.ITEM_STROKE_WIDTH_KEY),g=new DvtSolidStroke(g,1,h);d.setStroke(g);d=this.getStyle(a+DvtTimelineSeries.ITEM_INNER_STROKE_COLOR_KEY);g=this.getStyle(a+DvtTimelineSeries.ITEM_INNER_STROKE_WIDTH_KEY);
d=new DvtSolidStroke(d,1,g);e.setStroke(d);e=this.getStyle(a+DvtTimelineSeries.FEELER_WIDTH_KEY);a=this.getStyle(a+DvtTimelineSeries.FEELER_COLOR_KEY);a=new DvtSolidStroke(a,1,e);(b=b.getFeeler())&&b.setStroke(a);c&&c.setStroke(a)}};DvtTimelineSeriesItem.prototype.getStyle=function(a){a=this._styles[a];return a instanceof DvtCSSStyle?a.clone():a};var DvtTimelineSeriesNode=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtTimelineSeriesNode,DvtKeyboardNavigable,"DvtTimelineSeriesNode");
DvtTimelineSeriesNode.prototype.Init=function(a,b,c){this._timeline=a;this._seriesIndex=b;this._series=a._series[b];this._id=c.id;this._rowKey=c.rowKey;this._startTime=parseInt(c.startTime);c.endTime&&(this._endTime=parseInt(c.endTime));this._title=c.title;this._desc=c.desc;this._thumbnail=c.thumbnail;this._style=c.style;this._data=c.data;this._action=c.action;this._durationFillColor=c.durationFillColor};DvtTimelineSeriesNode.prototype.getId=function(){return this._id};
DvtTimelineSeriesNode.prototype.getSeries=function(){return this._series};DvtTimelineSeriesNode.prototype.getSeriesIndex=function(){return this._seriesIndex};DvtTimelineSeriesNode.prototype.getRowKey=function(){return this._rowKey};DvtTimelineSeriesNode.prototype.getStartTime=function(){return this._startTime};DvtTimelineSeriesNode.prototype.getEndTime=function(){return this._endTime};DvtTimelineSeriesNode.prototype.getTitle=function(){return this._title};
DvtTimelineSeriesNode.prototype.getDescription=function(){return this._desc};DvtTimelineSeriesNode.prototype.getThumbnail=function(){return this._thumbnail};DvtTimelineSeriesNode.prototype.getStyle=function(){return this._style};DvtTimelineSeriesNode.prototype.getData=function(){return this._data};DvtTimelineSeriesNode.prototype.getBubble=function(){return this._displayable};DvtTimelineSeriesNode.prototype.setBubble=function(a){this._displayable=a};DvtTimelineSeriesNode.prototype.getFeeler=function(){return this._feeler};
DvtTimelineSeriesNode.prototype.setFeeler=function(a){this._feeler=a};DvtTimelineSeriesNode.prototype.getDurationBar=function(){return this._durationBar};DvtTimelineSeriesNode.prototype.setDurationBar=function(a){this._durationBar=a};DvtTimelineSeriesNode.prototype.getLoc=function(){return this._loc};DvtTimelineSeriesNode.prototype.setLoc=function(a){this._loc=a};DvtTimelineSeriesNode.prototype.getSpacing=function(){return this._spacing};
DvtTimelineSeriesNode.prototype.setSpacing=function(a){this._spacing=a};DvtTimelineSeriesNode.prototype.getDurationLevel=function(){return this._durationLevel};DvtTimelineSeriesNode.prototype.setDurationLevel=function(a){this._durationLevel=a};DvtTimelineSeriesNode.prototype.getDurationSize=function(){return this._durationSize};DvtTimelineSeriesNode.prototype.setDurationSize=function(a){this._durationSize=a};DvtTimelineSeriesNode.prototype.getDurationFillColor=function(){return this._durationFillColor};
DvtTimelineSeriesNode.prototype.setDurationFillColor=function(a){this._durationFillColor=a};DvtTimelineSeriesNode.prototype.getLabel=function(){return null!=this.getEndTime()?"Start Time: "+(new Date(this.getStartTime())).toLocaleString()+"; End Time: "+(new Date(this.getEndTime())).toLocaleString()+"; Title: "+this.getTitle()+"; Description: "+this.getDescription():"Time: "+(new Date(this.getStartTime())).toLocaleString()+"; Title: "+this.getTitle()+"; Description: "+this.getDescription()};
DvtTimelineSeriesNode.prototype.getWidth=function(){return this._w};DvtTimelineSeriesNode.prototype.setWidth=function(a){this._w=a};DvtTimelineSeriesNode.prototype.getHeight=function(){return this._h};DvtTimelineSeriesNode.prototype.setHeight=function(a){this._h=a};DvtTimelineSeriesNode.prototype.getAction=function(){return this._action};
DvtTimelineSeriesNode.prototype.getNextNavigable=function(a){var b=this._timeline.EventManager.getKeyboardHandler();if(a.type==DvtMouseEvent.CLICK||b.isMultiSelectEvent(a))return this;if(b.isNavigationEvent(a)){for(var b=[],c=0;c<this._timeline._series.length;c++)b.push(this._timeline._series[c]._items);return DvtTimelineKeyboardHandler.getNextNavigable(this,a,b)}return null};DvtTimelineSeriesNode.prototype.getTargetElem=function(){return this._displayable.getElem()};
DvtTimelineSeriesNode.prototype.getKeyboardBoundingBox=function(a){return this._displayable.getDimensions(a)};DvtTimelineSeriesNode.prototype.showKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!0;this.showHoverEffect();this._timeline.updateScrollForItemNavigation(this)};DvtTimelineSeriesNode.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1;this.hideHoverEffect()};DvtTimelineSeriesNode.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect};
DvtTimelineSeriesNode.prototype.getContextMenuLocation=function(){};DvtTimelineSeriesNode.prototype.getDisplayables=function(){return[this._displayable]};DvtTimelineSeriesNode.prototype.getAriaLabel=function(){var a=[];this.isSelectable()&&a.push(DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,this.isSelected()?"STATE_SELECTED":"STATE_UNSELECTED"));return DvtDisplayable.generateAriaLabel(this.getLabel(),a)};DvtTimelineSeriesNode.prototype.setSelectable=function(a){this._isSelectable=a};
DvtTimelineSeriesNode.prototype.isSelectable=function(){return this._isSelectable};DvtTimelineSeriesNode.prototype.isSelected=function(){return this._isSelected};DvtTimelineSeriesNode.prototype.setSelected=function(a){this._isSelected=a;this._displayable.setSelected(a);this._updateAriaLabel();this._timeline._hasOverview&&(a?this._timeline._overview.selSelectItem(this.getId()):this._timeline._overview.selUnselectItem(this.getId()))};
DvtTimelineSeriesNode.prototype.showHoverEffect=function(a){var b=this._timeline.EventManager.getFocus()==this;this._displayable.showHoverEffect(b);!a&&this._timeline._hasOverview&&this._timeline._overview.highlightItem(this.getId());this._timeline._isVertical&&(this._index||(this._index=this._series._blocks[0].getChildIndex(this.getBubble())),this._series._blocks[0].addChild(this.getBubble()))};
DvtTimelineSeriesNode.prototype.hideHoverEffect=function(a){var b=this._timeline.EventManager.getFocus()==this;this._displayable.hideHoverEffect(b);!a&&this._timeline._hasOverview&&this._timeline._overview.unhighlightItem(this.getId());this._timeline._isVertical&&this._index&&!this._isSelected&&this._series._blocks[0].addChildAt(this.getBubble(),this._index)};DvtTimelineSeriesNode.prototype._updateAriaLabel=function(){DvtAgent.deferAriaCreation()||this._displayable.setAriaProperty("label",this.getAriaLabel())};
var DvtTimelineSeriesParser=function(a){this.Init(a)};DvtObj.createSubclass(DvtTimelineSeriesParser,DvtTimeComponentParser,"DvtTimelineSeriesParser");
DvtTimelineSeriesParser.prototype.parse=function(a){var b=this.buildData(a),c=DvtTimelineSeriesParser.superclass.parse.call(this,a);c.scale=a.scale;c.timeAxis=a.timeAxis;c.label=a.label;c.emptyText=a.emptyText;c.items=this._parseDataNode(a.timeline,a.index,b.data);c.rtl="false";var b={},d=DvtTimelineSeries.DEFAULT_ITEM_ENABLED_FILL_COLOR,e=DvtTimelineSeries.DEFAULT_ITEM_SELECTED_FILL_COLOR,g=DvtTimelineSeries.DEFAULT_ITEM_ACTIVE_SELECTED_FILL_COLOR,h=DvtTimelineSeries.DEFAULT_ITEM_HIGHLIGHTED_FILL_COLOR,
k=DvtTimelineSeries.DEFAULT_ITEM_ENABLED_STROKE_COLOR,m=DvtTimelineSeries.DEFAULT_ITEM_SELECTED_STROKE_COLOR,n=DvtTimelineSeries.DEFAULT_ITEM_ACTIVE_SELECTED_STROKE_COLOR,t=DvtTimelineSeries.DEFAULT_ITEM_HIGHLIGHTED_STROKE_COLOR,u=DvtTimelineSeries.DEFAULT_ITEM_ENABLED_STROKE_WIDTH,v=DvtTimelineSeries.DEFAULT_ITEM_SELECTED_STROKE_WIDTH,w=DvtTimelineSeries.DEFAULT_ITEM_ACTIVE_SELECTED_STROKE_WIDTH,x=DvtTimelineSeries.DEFAULT_ITEM_HIGHLIGHTED_STROKE_WIDTH,y=DvtTimelineSeries.DEFAULT_ITEM_INNER_ENABLED_STROKE_COLOR,
z=DvtTimelineSeries.DEFAULT_ITEM_INNER_SELECTED_STROKE_COLOR,A=DvtTimelineSeries.DEFAULT_ITEM_INNER_ACTIVE_SELECTED_STROKE_COLOR,B=DvtTimelineSeries.DEFAULT_ITEM_INNER_HIGHLIGHTED_STROKE_COLOR,C=DvtTimelineSeries.DEFAULT_ITEM_INNER_ENABLED_STROKE_WIDTH,D=DvtTimelineSeries.DEFAULT_ITEM_INNER_SELECTED_STROKE_WIDTH,F=DvtTimelineSeries.DEFAULT_ITEM_INNER_ACTIVE_SELECTED_STROKE_WIDTH,E=DvtTimelineSeries.DEFAULT_ITEM_INNER_HIGHLIGHTED_STROKE_WIDTH,H=DvtTimelineSeries.DEFAULT_FEELER_ENABLED_WIDTH,I=DvtTimelineSeries.DEFAULT_FEELER_SELECTED_WIDTH,
M=DvtTimelineSeries.DEFAULT_FEELER_ACTIVE_SELECTED_WIDTH,J=DvtTimelineSeries.DEFAULT_FEELER_HIGHLIGHTED_WIDTH,G=DvtTimelineSeries.DEFAULT_ITEM_ENABLED_STROKE_COLOR,L=DvtTimelineSeries.DEFAULT_ITEM_SELECTED_STROKE_COLOR,K=DvtTimelineSeries.DEFAULT_ITEM_ACTIVE_SELECTED_STROKE_COLOR,R=DvtTimelineSeries.DEFAULT_ITEM_HIGHLIGHTED_STROKE_COLOR,V=new DvtCSSStyle(DvtTimelineSeries.DEFAULT_ITEM_TITLE_STYLE),O=new DvtCSSStyle(DvtTimelineSeries.DEFAULT_ITEM_DESCRIPTION_STYLE),X=new DvtCSSStyle(DvtTimelineSeries.DEFAULT_REFERENCE_OBJECT_STYLE);
if(a=a.itemStyleDefaults){var S=a.backgroundColor;S&&(d=S);(S=a.hoverBackgroundColor)&&(h=S);if(S=a.selectedBackgroundColor)g=e=S;if(S=a.borderColor)G=k=S;if(S=a.hoverBorderColor)R=t=S;if(S=a.selectedBorderColor)K=L=n=m=S;(S=a.titleStyle)&&V.parseInlineStyle(S);(S=a.descriptionStyle)&&O.parseInlineStyle(S)}b[DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.FEELER_WIDTH_KEY]=H;b[DvtTimelineSeries.SELECTED_STATE_KEY+DvtTimelineSeries.FEELER_WIDTH_KEY]=I;b[DvtTimelineSeries.ACTIVE_SELECTED_STATE_KEY+
DvtTimelineSeries.FEELER_WIDTH_KEY]=M;b[DvtTimelineSeries.HIGHLIGHTED_STATE_KEY+DvtTimelineSeries.FEELER_WIDTH_KEY]=J;b[DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.FEELER_COLOR_KEY]=G;b[DvtTimelineSeries.SELECTED_STATE_KEY+DvtTimelineSeries.FEELER_COLOR_KEY]=L;b[DvtTimelineSeries.ACTIVE_SELECTED_STATE_KEY+DvtTimelineSeries.FEELER_COLOR_KEY]=K;b[DvtTimelineSeries.HIGHLIGHTED_STATE_KEY+DvtTimelineSeries.FEELER_COLOR_KEY]=R;b[DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.ITEM_FILL_COLOR_KEY]=
d;b[DvtTimelineSeries.SELECTED_STATE_KEY+DvtTimelineSeries.ITEM_FILL_COLOR_KEY]=e;b[DvtTimelineSeries.ACTIVE_SELECTED_STATE_KEY+DvtTimelineSeries.ITEM_FILL_COLOR_KEY]=g;b[DvtTimelineSeries.HIGHLIGHTED_STATE_KEY+DvtTimelineSeries.ITEM_FILL_COLOR_KEY]=h;b[DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.ITEM_STROKE_COLOR_KEY]=k;b[DvtTimelineSeries.SELECTED_STATE_KEY+DvtTimelineSeries.ITEM_STROKE_COLOR_KEY]=m;b[DvtTimelineSeries.ACTIVE_SELECTED_STATE_KEY+DvtTimelineSeries.ITEM_STROKE_COLOR_KEY]=
n;b[DvtTimelineSeries.HIGHLIGHTED_STATE_KEY+DvtTimelineSeries.ITEM_STROKE_COLOR_KEY]=t;b[DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.ITEM_STROKE_WIDTH_KEY]=u;b[DvtTimelineSeries.SELECTED_STATE_KEY+DvtTimelineSeries.ITEM_STROKE_WIDTH_KEY]=v;b[DvtTimelineSeries.ACTIVE_SELECTED_STATE_KEY+DvtTimelineSeries.ITEM_STROKE_WIDTH_KEY]=w;b[DvtTimelineSeries.HIGHLIGHTED_STATE_KEY+DvtTimelineSeries.ITEM_STROKE_WIDTH_KEY]=x;b[DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.ITEM_INNER_STROKE_COLOR_KEY]=
y;b[DvtTimelineSeries.SELECTED_STATE_KEY+DvtTimelineSeries.ITEM_INNER_STROKE_COLOR_KEY]=z;b[DvtTimelineSeries.ACTIVE_SELECTED_STATE_KEY+DvtTimelineSeries.ITEM_INNER_STROKE_COLOR_KEY]=A;b[DvtTimelineSeries.HIGHLIGHTED_STATE_KEY+DvtTimelineSeries.ITEM_INNER_STROKE_COLOR_KEY]=B;b[DvtTimelineSeries.ENABLED_STATE_KEY+DvtTimelineSeries.ITEM_INNER_STROKE_WIDTH_KEY]=C;b[DvtTimelineSeries.SELECTED_STATE_KEY+DvtTimelineSeries.ITEM_INNER_STROKE_WIDTH_KEY]=D;b[DvtTimelineSeries.ACTIVE_SELECTED_STATE_KEY+DvtTimelineSeries.ITEM_INNER_STROKE_WIDTH_KEY]=
F;b[DvtTimelineSeries.HIGHLIGHTED_STATE_KEY+DvtTimelineSeries.ITEM_INNER_STROKE_WIDTH_KEY]=E;c.itemTitleStyle=V;c.itemDescriptionStyle=O;c.referenceObjectStyle=X;c.defaultStyles=b;return c};DvtTimelineSeriesParser.prototype.buildData=function(a){var b={},c=[];if(a=a.items)for(var d=0;d<a.length;d++)c.push(a[d]);b.data=c;return b};
DvtTimelineSeriesParser.prototype.ParseRootAttributes=function(){var a=DvtTimelineSeriesParser.superclass.ParseRootAttributes.call(this);a.start=this._startTime.getTime();a.end=this._endTime.getTime();return a};
DvtTimelineSeriesParser.prototype._parseDataNode=function(a,b,c){var d=[];if(c)for(var e=0;e<c.length;e++){var g=this.ParseNodeAttributes(c[e]);if(g){g=new DvtTimelineSeriesNode(a,b,g);g.setSelectable(!0);for(var h=g.getStartTime(),k=!0,m=0;m<d.length;m++)if(h<d[m].getStartTime()){d.splice(m,0,g);k=!1;break}k&&d.push(g)}}return d};
DvtTimelineSeriesParser.prototype.ParseNodeAttributes=function(a){var b={};b.id=a.id;b.rowKey=b.id;b.startTime=this.getDate(a.start);b.endTime=this.getDate(a.end);if((b.endTime?b.endTime:b.startTime)<this._startTime.getTime()||b.startTime>this._endTime.getTime())return null;b.title=a.title;b.desc=a.description;b.thumbnail=a.thumbnail;b.data=a;b.style=a.style;b.action=a.action;b.durationFillColor=a.durationFillColor;return b};
var DvtTimelineViewportChangeEvent=function(a,b,c,d){DvtTimelineViewportChangeEvent.superclass.Init.call(this,a);this._viewportStart=b;this._viewportEnd=c;this._minorAxisScale=d};DvtObj.createSubclass(DvtTimelineViewportChangeEvent,DvtBaseComponentEvent,"DvtTimelineViewportChangeEvent");DvtTimelineViewportChangeEvent.TYPE="viewportChange";DvtTimelineViewportChangeEvent.prototype.getViewportStart=function(){return this._viewportStart};DvtTimelineViewportChangeEvent.prototype.getViewportEnd=function(){return this._viewportEnd};
DvtTimelineViewportChangeEvent.prototype.getMinorAxisScale=function(){return this._minorAxisScale};