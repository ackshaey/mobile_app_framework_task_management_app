(function(a){var b=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"panelItem");b.prototype.render=function(a){var b=document.createElement("div");b.setAttribute("title",this._ensureValidString(a.getAttribute("shortDesc"),""));a=a.renderDescendants();for(var c=0,h=a.length;c<h;++c)b.appendChild(a[c]);b.classList.add("current");return b};b.prototype._ensureValidString=function(a,b){return null==a?b:a};var c=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,
"panelSplitter");c.prototype.createChildrenNodes=function(a){var b=a.getTag();if(void 0===a.getAttribute("selectedItem")&&b.isAttributeElBound("selectedItem"))return a.setState(adf.mf.api.amx.AmxNodeStates.INITIAL),!0;var c=this._getSelectedTag(a),h=null==c?null:c.getAttribute("id");this._setVolatileStateProperty(a,"resolvedSelectedItemId",h);null!=c&&a.addChild(c.buildAmxNode(a,null));b=b.getChildFacetTag("navigator");if(null!=b)for(b=b.getChildrenUITags(),i=0,size=b.length;i<size;++i)a.addChild(b[i].buildAmxNode(a,
null),"navigator");return!0};c.prototype.attributeChangeResult=function(a,b,g){switch(b){case "selectedItem":return b=a.getVolatileState().resolvedSelectedItemId,a.getAttribute("selectedItem")!=b?(b=a.getChildren(),0<b.length&&a.removeChild(b[0]),b=this._getSelectedTag(a),a.addChild(b.buildAmxNode(a,null)),this._setVolatileStateProperty(a,"resolvedSelectedItemId",b.getAttribute("id")),adf.mf.api.amx.AmxNodeChangeResult.REFRESH):adf.mf.api.amx.AmxNodeChangeResult.NONE;default:return c.superclass.attributeChangeResult.call(this,
a,b,g)}};c.prototype.render=function(a){try{var b=this._getOrientation(),c=this._getPosition(a),h=document.createElement("div");h.setAttribute("title",this._ensureValidString(a.getAttribute("shortDesc"),""));h.setAttribute("data-orientation",b);var k=document.createElement("div");k.className="amx-panelSplitter_inner";h.appendChild(k);var m=document.createElement("div");m.className="amx-panelSplitter_contentContainer";adf.mf.api.amx.enableScrolling(m);m.setAttribute("role","contentinfo");var n=document.createElement("div");
n.className="amx-panelSplitter_items";m.appendChild(n);0<a.getRenderedChildren("navigator").length?(b="landscape"==b,this._createNavigation(b,a,k,h,c),b?(m.classList.add("amx-landscape"),"rtl"==document.documentElement.dir?m.style.right=c.landscape:m.style.left=c.landscape):m.classList.add("amx-portrait")):m.classList.add("amx-noNavigation");k.appendChild(m);var t=a.getRenderedChildren(),u=0<t.length?t[0]:null;if(null!=u){var v=u.render();null!=v&&(v.classList.add("current"),n.appendChild(v))}return h}catch(w){console.error(w)}};
c.prototype.postDisplay=function(a,b){try{var c=this._getChildrenByClassNames(a.firstChild,["amx-panelSplitter_navLandscape","amx-panelSplitter_navPortrait","amx-panelSplitter_contentContainer"]),h=c[0],k=c[1],m=c[2],n=b.getClientState();null!=n&&(this._restoreScrollPositions(h,n.navLandscape),this._restoreScrollPositions(k,n.navPortrait),this._restoreScrollPositions(m,n.content));0<b.getChildren("navigator").length&&(c={rootElement:a,peer:this,amxNode:b},this._setVolatileStateProperty(b,"resizeData",
c),adf.mf.api.amx.addBubbleEventListener(window,"resize",this._handleResize,c),adf.mf.api.amx.addBubbleEventListener(a,"resize",this._handleResize,c))}catch(t){console.error(t)}};c.prototype.refresh=function(a,b,g){try{c.superclass.refresh.call(this,a,b,g);var h=a.getRenderedChildren();if(0!=h.length){var k=document.getElementById(a.getId()),m=this._getChildrenByClassNames(k.firstChild,["amx-panelSplitter_contentContainer"])[0].firstChild;k.classList.contains("changingSelectedItem");k.classList.add("changingSelectedItem");
var n=this._getChildrenByClassNames(m,["current"])[0],t=h[0],u=t.render();if(null!=u){var v=null==u?null:u.getAttribute("id");this._setVolatileStateProperty(a,"resolvedSelectedItemId",v);u.classList.add("new");m.appendChild(u);1==u.childNodes.length&&adf.mf.api.amx.triggerBubbleEventListener(u.childNodes[0],"resize")}if("portrait"==k.getAttribute("data-orientation"))try{var w=this._getPosition(a);this._undiscloseNavPortrait(k,w)}catch(x){console.error(x)}var y=this._getChildrenByClassNames(m,["new"])[0],
z=this._getTransitionParams(a,t);"none"==z&&(z=null);null!=z?(null!=this._pageTransitionCancelFunction&&this._pageTransitionCancelFunction(),adf.mf.internal.amx.pauseUIChanges(),n.style.display="block",y.style.display="block",y.classList.remove("new"),y.classList.add("current"),a={parentFlipAllowed:!0,dimensionsFromParent:!0},a.finishedFunction=adf.shared.impl.animationUtils.getProxyFunction(this,this._animationFinished),a.callbackParams=[y,m,k],a.animationEnabled=!0,a.isRtl="rtl"==document.documentElement.dir,
a.fineLogger=function(a){adf.mf.log.AMX.logp(adf.mf.log.level.FINEST,"adf.mf.internal.amx.panelSplitter","refresh",a)},this._pageTransitionCancelFunction=adf.shared.impl.animationUtils.transition(z,n,y,a)):(y.classList.remove("new"),y.classList.add("current"),this._removeAllButThisOrTheOnlyPanelItem(y,m),k.classList.remove("changingSelectedItem"))}}catch(A){console.error(A)}};c.prototype.preDestroy=function(a,b){var c;c=a.jquery?a.get(0):a;this._storeScrollPositions(c,b);(c=b.getVolatileState())&&
(c=c.resizeData)&&adf.mf.api.amx.removeBubbleEventListener(window,"resize",this._handleResize,c)};c.prototype.__getTestJavaScriptURI=function(a){return"js/testing/amx-panelSplitter.js"};c.prototype._setVolatileStateProperty=function(a,b,c){var h=a.getVolatileState();void 0===h&&(h={},a.setVolatileState(h));h[b]=c};c.prototype._animationFinished=function(a){var b=a[2];this._removeAllButThisOrTheOnlyPanelItem(a[0],a[1]);b.classList.remove("changingSelectedItem");this._pageTransitionCancelFunction=null;
adf.mf.internal.amx.resumeUIChanges()};c.prototype._getSelectedTag=function(a){var b=a.getTag();a=a.getAttribute("selectedItem");for(var b=b.getChildren(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"panelItem"),c=null,h=0,k=b.length;h<k;++h){var m=b[h];if(null==a)return m;0==h&&(c=m);if(m.getAttribute("id")==a)return m}return c};c.prototype._removeAllButThisOrTheOnlyPanelItem=function(a,b){for(var c=b.childNodes,h=c.length;0<=h&&1<b.childNodes.length;--h){var k=c[h];k!=a&&adf.mf.api.amx.removeDomNode(k)}};
c.prototype._getChildrenByClassNames=function(a,b){for(var c=a.childNodes,h=c.length,k=b.length,m=[],n=0,t=0;t<h&&n<k;++t)for(var u=c[t],v=0;v<k;++v)if(u.classList.contains(b[v])){m[v]=u;++n;break}return m};c.prototype._storeScrollPositions=function(a,b){var c=this._getChildrenByClassNames(a.firstChild,["amx-panelSplitter_navLandscape","amx-panelSplitter_navPortrait","amx-panelSplitter_contentContainer"]),h=c[1],k=c[2],c={navLandscape:this._getScrollPositions(c[0]),navPortrait:this._getScrollPositions(h),
content:this._getScrollPositions(k)};b.setClientState(c)};c.prototype._getScrollPositions=function(a){if(a){var b=a.scrollLeft;a=a.scrollTop;if(null!=b&&null!=a)return{scrollLeft:b,scrollTop:a}}return null};c.prototype._restoreScrollPositions=function(a,b){if(a&&b){var c=b.scrollLeft;null!=c&&(a.scrollLeft=c);c=b.scrollTop;null!=c&&(a.scrollTop=c)}};c.prototype._getTransitionParams=function(a,b){var c="none";null!=b.getAttribute("animation")?c=b.getAttribute("animation"):null!=a.getAttribute("animation")&&
(c=a.getAttribute("animation"));return c};c.prototype._getAttribute=function(a,b){return null==a||""==a||adf.mf.environment.profile.dtMode&&"#"==a.charAt(0)?b:a};c.prototype._getPosition=function(a){return{landscape:this._getAttribute(a.getAttribute("position"),"31.25%"),portrait:"41.67%"}};c.prototype._getOrientation=function(){return document.body.offsetWidth<document.body.offsetHeight?"portrait":"landscape"};c.prototype._createNavigation=function(a,b,c,h,k){var m=document.createElement("div");
m.className="amx-panelSplitter_navLandscape";adf.mf.api.amx.enableScrolling(m);m.style.width=k.landscape;m.setAttribute("role","navigation");var n=document.createElement("div");n.className="amx-panelSplitter_screenPortrait";n.style.display="none";var t=document.createElement("div");t.setAttribute("role","button");t.setAttribute("tabindex","0");t.setAttribute("aria-expanded","false");var u=adf.mf.resource.getInfoString("AMXInfoBundle","amx_panelSplitter_NAVIGATOR_TOGGLE_BUTTON"),u=this._ensureValidString(b.getAttribute("navigatorTitle"),
u);t.setAttribute("title",u);t.className="amx-panelSplitter_button";c.appendChild(t);c.appendChild(n);c.appendChild(m);h={rootElement:h,amxNode:b,peer:this};adf.mf.api.amx.addBubbleEventListener(n,"tap",this._handleNavPortraitToggle,h);adf.mf.api.amx.addBubbleEventListener(t,"tap",this._handleNavPortraitToggle,h);n=document.createElement("div");h=b.getId()+"::navp";n.setAttribute("id",h);t.setAttribute("aria-owns",h);n.setAttribute("aria-hidden","true");n.className="amx-panelSplitter_navPortrait";
adf.mf.api.amx.enableScrolling(n);c.appendChild(n);n.style.width=k.portrait;n.setAttribute("role","navigation");a?(n.style.opacity="0",n.style.display="none",n.style.zIndex="0",t.style.display="none"):(m.style.opacity="0",m.style.display="none","rtl"==document.documentElement.dir?n.style.right="-"+k.portrait:n.style.left="-"+k.portrait);a=a?m:n;b=b.getRenderedChildren("navigator");c=0;for(k=b.length;c<k;++c)(m=b[c].render())&&a.appendChild(m)};c.prototype._handleNavPortraitToggle=function(a){try{a.preventDefault();
a.stopPropagation();var b=a.data.rootElement,c=a.data.peer,h=c._getPosition(a.data.amxNode);c._getChildrenByClassNames(b.firstChild,["amx-panelSplitter_button"])[0].classList.contains("disclosed")?c._undiscloseNavPortrait(b,h):c._discloseNavPortrait(b,h)}catch(k){console.error(k)}};c.prototype._discloseNavPortrait=function(a,b){var c=this._getChildrenByClassNames(a.firstChild,["amx-panelSplitter_screenPortrait","amx-panelSplitter_navPortrait","amx-panelSplitter_button","amx-panelSplitter_contentContainer"]),
h=c[0],k=c[1],m=c[2],c=c[3];h&&k&&m&&(h.style.display="block",k.classList.add("no-animate"),k.style.opacity="1",k.style.display="block",k.style.zIndex="1002",k.classList.remove("no-animate"),(h="rtl"==document.documentElement.dir)?k.style.right="0px":k.style.left="0px",h?m.style.right=b.portrait:m.style.left=b.portrait,m.classList.add("disclosed"),k.setAttribute("aria-hidden","false"),m.setAttribute("aria-expanded","true"),c.setAttribute("aria-hidden","true"))};c.prototype._undiscloseNavPortrait=
function(a,b){var c=this._getChildrenByClassNames(a.firstChild,["amx-panelSplitter_screenPortrait","amx-panelSplitter_navPortrait","amx-panelSplitter_button","amx-panelSplitter_contentContainer"]),h=c[0],k=c[1],m=c[2],c=c[3];h&&k&&m&&(h.style.display="none",(h="rtl"==document.documentElement.dir)?k.style.right="-"+b.portrait:k.style.left="-"+b.portrait,h?m.style.right="0px":m.style.left="0px",m.classList.remove("disclosed"),k.setAttribute("aria-hidden","true"),m.setAttribute("aria-expanded","false"),
c.setAttribute("aria-hidden","false"))};c.prototype._ensureValidString=function(a,b){return null==a?b:a};c.prototype._handleResize=function(b){var c=b.data.rootElement,g=b.data.amxNode,h=b.data.peer,k=c.firstChild;if(null==k)adf.mf.api.amx.removeBubbleEventListener(window,"resize",h._handleResize,b.data);else{var m=h._getChildrenByClassNames(k,["amx-panelSplitter_navPortrait","amx-panelSplitter_button","amx-panelSplitter_screenPortrait","amx-panelSplitter_navLandscape","amx-panelSplitter_contentContainer"]);
b=m[0];var k=m[1],n=m[2],t=m[3],m=m[4],u=h._getOrientation(),g=h._getPosition(g),h="rtl"==document.documentElement.dir;b&&k&&n&&t&&"portrait"==c.getAttribute("data-orientation")&&"landscape"==u?document.activeElement!=document.body&&document.activeElement!=k&&k.classList.contains("disclosed")||(b.classList.add("no-animate"),h?b.style.right="-"+g.portrait:b.style.left="-"+g.portrait,b.style.opacity="0",b.style.display="none",b.style.zIndex="0",b.classList.remove("no-animate"),k.classList.add("no-animate"),
h?k.style.right="0px":k.style.left="0px",k.style.display="none",k.classList.remove("no-animate"),k.classList.remove("disclosed"),n.style.display="none",a(b).children().appendTo(a(t)),t.style.opacity="1",t.style.display="block",h?m.style.right=g.landscape:m.style.left=g.landscape,c.setAttribute("data-orientation","landscape"),m.classList.remove("amx-portrait"),m.classList.add("amx-landscape"),m.setAttribute("aria-hidden","false")):"landscape"==c.getAttribute("data-orientation")&&"portrait"==u&&(h?
b.style.right="-"+g.portrait:b.style.left="-"+g.portrait,b.style.zIndex="1002",h?k.style.right="0px":k.style.left="0px",t.style.opacity="0",t.style.display="none",k.style.display="block",h?m.style.right="":m.style.left="",a(t).children().appendTo(a(b)),c.setAttribute("data-orientation","portrait"),m.classList.remove("amx-landscape"),m.classList.add("amx-portrait"),b.setAttribute("aria-hidden","true"),k.setAttribute("aria-expanded","false"),m.setAttribute("aria-hidden","false"))}}})(jQuery);